(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){var w=typeof window!=="undefined"?window:this,g=w.document,e=function(){this.Version="@version";this.Plugins={};this.DontConflict=false;this.Conflicts={fn:{}};this.ResizeHandlers=[];this.RAFHandlers=[];this.window=w;this.$window=a(w);this.document=g;this.$document=a(g);this.$body=null;this.windowWidth=0;this.windowHeight=0;this.fallbackWidth=1024;this.fallbackHeight=768;this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera;this.isFirefox=/Firefox/i.test(this.userAgent);this.isChrome=/Chrome/i.test(this.userAgent);this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome;this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent);this.isIEMobile=/IEMobile/i.test(this.userAgent);this.isFirefoxMobile=(this.isFirefox&&this.isMobile);this.transform=null;this.transition=null;this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!!(window.matchMedia||window.msMatchMedia),pointer:!!(window.PointerEvent),raf:!!(window.requestAnimationFrame&&window.cancelAnimationFrame),touch:!!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:false,transform:false}},j={killEvent:function(x,z){try{x.preventDefault();x.stopPropagation();if(z){x.stopImmediatePropagation()}}catch(y){}},killGesture:function(x){try{x.preventDefault()}catch(y){}},lockViewport:function(x){t[x]=true;if(!a.isEmptyObject(t)&&!s){if(c.length){c.attr("content",u)}else{c=a("head").append('<meta name="viewport" content="'+u+'">')}i.$body.on(h.gestureChange,j.killGesture).on(h.gestureStart,j.killGesture).on(h.gestureEnd,j.killGesture);s=true}},unlockViewport:function(x){if(a.type(t[x])!=="undefined"){delete t[x]}if(a.isEmptyObject(t)&&s){if(c.length){if(v){c.attr("content",v)}else{c.remove()}}i.$body.off(h.gestureChange).off(h.gestureStart).off(h.gestureEnd);s=false}},startTimer:function(A,z,x,y){j.clearTimer(A);return(y)?setInterval(x,z):setTimeout(x,z)},clearTimer:function(y,x){if(y){if(x){clearInterval(y)}else{clearTimeout(y)}y=null}},sortAsc:function(x,y){return(parseInt(x,10)-parseInt(y,10))},sortDesc:function(x,y){return(parseInt(y,10)-parseInt(x,10))},decodeEntities:function(y){var x=i.document.createElement("textarea");x.innerHTML=y;return x.value},parseQueryString:function(B){var y={},A=B.slice(B.indexOf("?")+1).split("&");for(var x=0;x<A.length;x++){var z=A[x].split("=");y[z[0]]=z[1]}return y}},i=new e(),b=a.Deferred(),d={base:"{ns}",element:"{ns}-element"},h={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},o=null,f=20,c,v,u,t=[],s=false;e.prototype.NoConflict=function(){i.DontConflict=true;for(var x in i.Plugins){if(i.Plugins.hasOwnProperty(x)){a[x]=i.Conflicts[x];a.fn[x]=i.Conflicts.fn[x]}}};e.prototype.Plugin=function(x,y){i.Plugins[x]=(function(G,K){var I="fs-"+G,J="fs."+G,H="fs"+G.replace(/(^|\s)([a-z])/g,function(L,M,N){return M+N.toUpperCase()});function E(U){var R=a.type(U)==="object",N=this,M=a(),L,S,O;U=a.extend(true,{},K.defaults||{},(R?U:{}));for(S=0,O=N.length;S<O;S++){L=N.eq(S);if(!D(L)){var Q="__"+K.guid++,V=K.classes.raw.base+Q,T=L.data(G+"-options"),P=a.extend(true,{$el:L,guid:Q,rawGuid:V,dotGuid:"."+V},U,(a.type(T)==="object"?T:{}));L.addClass(K.classes.raw.element).data(H,P);K.methods._construct.apply(L,[P].concat(Array.prototype.slice.call(arguments,(R?1:0))));M=M.add(L)}}for(S=0,O=M.length;S<O;S++){L=M.eq(S);K.methods._postConstruct.apply(L,[D(L)])}return N}function C(L){K.functions.iterate.apply(this,[K.methods._destruct].concat(Array.prototype.slice.call(arguments,1)));this.removeClass(K.classes.raw.element).removeData(H)}function D(L){return L.data(H)}function B(M){if(this instanceof a){var L=K.methods[M];if(a.type(M)==="object"||!M){return E.apply(this,arguments)}else{if(L&&M.indexOf("_")!==0){return K.functions.iterate.apply(this,[L].concat(Array.prototype.slice.call(arguments,1)))}}return this}}function A(M){var L=K.utilities[M]||K.utilities._initialize||false;if(L){return L.apply(window,Array.prototype.slice.call(arguments,(a.type(M)==="object"?0:1)))}}function z(L){K.defaults=a.extend(true,K.defaults,L||{})}function F(P){var M=this;for(var Q=0,N=M.length;Q<N;Q++){var L=M.eq(Q),O=D(L)||{};if(a.type(O.$el)!=="undefined"){P.apply(L,[O].concat(Array.prototype.slice.call(arguments,1)))}}return M}K.initialized=false;K.priority=K.priority||10;K.classes=m("classes",I,d,K.classes);K.events=m("events",G,h,K.events);K.functions=a.extend({getData:D,iterate:F},j,K.functions);K.methods=a.extend(true,{_setup:a.noop,_construct:a.noop,_postConstruct:a.noop,_destruct:a.noop,_resize:false,destroy:C},K.methods);K.utilities=a.extend(true,{_initialize:false,_delegate:false,defaults:z},K.utilities);if(K.widget){i.Conflicts.fn[G]=a.fn[G];a.fn[H]=B;if(!i.DontConflict){a.fn[G]=a.fn[H]}}i.Conflicts[G]=a[G];a[H]=K.utilities._delegate||A;if(!i.DontConflict){a[G]=a[H]}K.namespace=G;K.namespaceClean=H;K.guid=0;if(K.methods._resize){i.ResizeHandlers.push({namespace:G,priority:K.priority,callback:K.methods._resize});i.ResizeHandlers.sort(r)}if(K.methods._raf){i.RAFHandlers.push({namespace:G,priority:K.priority,callback:K.methods._raf});i.RAFHandlers.sort(r)}return K})(x,y);b.then(function(){q(x)});return i.Plugins[x]};function q(x){if(!i.Plugins[x].initialized){i.Plugins[x].methods._setup.call(document);i.Plugins[x].initialized=true}}function m(C,B,z,y){var x={raw:{}},A;y=y||{};for(A in y){if(y.hasOwnProperty(A)){if(C==="classes"){x.raw[y[A]]=B+"-"+y[A];x[y[A]]="."+B+"-"+y[A]}else{x.raw[A]=y[A];x[A]=y[A]+"."+B}}}for(A in z){if(z.hasOwnProperty(A)){if(C==="classes"){x.raw[A]=z[A].replace(/{ns}/g,B);x[A]=z[A].replace(/{ns}/g,"."+B)}else{x.raw[A]=z[A].replace(/.{ns}/g,"");x[A]=z[A].replace(/{ns}/g,B)}}}return x}function p(){var C={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},D=["transition","-webkit-transition"],z={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},B="transitionend",E="",A="",y=document.createElement("div"),x;for(x in C){if(C.hasOwnProperty(x)&&x in y.style){B=C[x];i.support.transition=true;break}}h.transitionEnd=B+".{ns}";for(x in D){if(D.hasOwnProperty(x)&&D[x] in y.style){E=D[x];break}}i.transition=E;for(x in z){if(z.hasOwnProperty(x)&&z[x] in y.style){i.support.transform=true;A=z[x];break}}i.transform=A}function n(){i.windowWidth=i.$window.width();i.windowHeight=i.$window.height();o=j.startTimer(o,f,l)}function l(){for(var x in i.ResizeHandlers){if(i.ResizeHandlers.hasOwnProperty(x)){i.ResizeHandlers[x].callback.call(window,i.windowWidth,i.windowHeight)}}}i.$window.on("resize.fs",n);n();function k(){if(i.support.raf){i.window.requestAnimationFrame(k);for(var x in i.RAFHandlers){if(i.RAFHandlers.hasOwnProperty(x)){i.RAFHandlers[x].callback.call(window)}}}}k();function r(x,y){return(parseInt(x.priority)-parseInt(y.priority))}a(function(){i.$body=a("body");c=a('meta[name="viewport"]');v=(c.length)?c.attr("content"):false;u="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0";b.resolve();i.support.nativeMatchMedia=i.support.matchMedia&&!a("html").hasClass("no-matchmedia")});h.clickTouchStart=h.click+" "+h.touchStart;p();window.Formstone=i;return i}));
/* formstone v1.2.0 [analytics.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],b):b(jQuery,Formstone)}(function(E,G){function I(){ac=G.$body}function K(){Z.scrollDepth&&S()}function M(){if(arguments.length&&"object"!==E.type(arguments[0])){if("destroy"===arguments[0]){O.apply(this)}else{var a=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":V.apply(this,a);break;case"event":U.apply(this,a)}}}else{N.apply(this,arguments)}return null}function N(a){!af&&ac.length&&(af=!0,Z=E.extend(Z,a||{}),Z.autoEvents&&ac.find("a").not("["+ah+"]").each(P),Z.scrollDepth&&(S(),ab.on(ae.scroll,Q).one(ae.load,K)),ac.on(ae.click,"*["+ah+"]",T))}function O(){af&&ac.length&&(ab.off(ae.namespace),ac.off(ae.namespace),af=!1)}function P(){var a,h=E(this),i="undefined"!==E.type(h[0].href)?h[0].href:"",j=document.domain.split(".").reverse(),k=null!==i.match(j[1]+"."+j[0]);if(i.match(/^mailto\:/i)){a="Email, Click, "+i.replace(/^mailto\:/i,"")}else{if(i.match(/^tel\:/i)){a="Telephone, Click, "+i.replace(/^tel\:/i,"")}else{if(i.match(Z.fileTypes)){var l=/[.]/.exec(i)?/[^.]+$/.exec(i):void 0;a="File, Download:"+l[0]+", "+i.replace(/ /g,"-")}else{k||(a="ExternalLink, Click, "+i)}}}a&&h.attr(ah,a)}function Q(b){ad.startTimer(H,250,R)}function R(){for(var b,g=ab.scrollTop()+G.windowHeight,h=1/Z.scrollStops,i=h,j=1;j<=Z.scrollStops;j++){b=Math.round(100*i).toString(),!F[J][b].passed&&g>F[J][b].edge&&(F[J][b].passed=!0,U({eventCategory:"ScrollDepth",eventAction:J,eventLabel:b,nonInteraction:!0})),i+=h}}function S(){var a,j=E.mediaquery("state"),k=ac.outerHeight(),l={},m=1/Z.scrollStops,n=m,o=0;j.minWidth&&(J="MinWidth:"+j.minWidth+"px");for(var p=1;p<=Z.scrollStops;p++){o=parseInt(k*n),a=Math.round(100*n).toString(),l[a]={edge:"100"===a?o-10:o,passsed:F[J]&&F[J][a]?F[J][a].passed:!1},n+=m}F[J]=l}function T(a){var g=E(this),h=g.attr("href"),i=g.data(ag).split(",");Z.eventCallback&&a.preventDefault();for(var j in i){i.hasOwnProperty(j)&&(i[j]=E.trim(i[j]))}U({eventCategory:i[0],eventAction:i[1],eventLabel:i[2]||h,eventValue:i[3],nonInteraction:i[4]},g)}function U(a,i){var j=(aa.location,E.extend({hitType:"event"},a));if("undefined"!==E.type(i)&&!i.attr("data-analytics-stop")){var k="undefined"!==E.type(i[0].href)?i[0].href:"",l=!k.match(/^mailto\:/i)&&!k.match(/^tel\:/i)&&k.indexOf(":")<0?aa.location.protocol+"//"+aa.location.hostname+"/"+k:k;if(""!==l){var m=i.attr("target");if(m){aa.open(l,m)}else{if(Z.eventCallback){var n="hitCallback";j[n]=function(){L&&(ad.clearTimer(L),X(l))},L=ad.startTimer(L,Z.eventTimeout,j[n])}}}}W(j)}function V(a){var d=E.extend({hitType:"pageview"},a);W(d)}function W(a){if("function"===E.type(aa.ga)&&"function"===E.type(aa.ga.getAll)){for(var f=aa.ga.getAll(),g=0,h=f.length;h>g;g++){aa.ga(f[g].get("name")+".send",a)}}}function X(b){document.location=b}var Y=G.Plugin("analytics",{methods:{_setup:I,_resize:K},utilities:{_delegate:M}}),Z={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1000,scrollDepth:!1,scrollStops:5},aa=G.window,ab=G.$window,ac=null,ad=Y.functions,ae=Y.events,af=!1,ag="analytics-event",ah="data-"+ag,F={},H=null,J="Site",L=null});
/* formstone v1.2.0 [asap.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./analytics"],b):b(jQuery,Formstone)}(function(B,D){function E(a){!S&&D.support.history&&(Q=D.$body,S=B.extend(U,a),S.render===B.noop&&(S.render=K),S.transitionOut===B.noop&&(S.transitionOut=function(){return B.Deferred().resolve()}),history.state?(C=history.state.id,ab=history.state.url):(ab=window.location.href,O(C,ab)),V.on(Y.popState,H),F())}function F(){Q&&!Q.hasClass(Z.base)&&Q.on(Y.click,S.selector,G).addClass(Z.base)}function G(c){var d=c.currentTarget;c.which>1||c.metaKey||c.ctrlKey||c.shiftKey||c.altKey||window.location.protocol!==d.protocol||window.location.host!==d.host||"_blank"===d.target||(!d.hash||d.href.replace(d.hash,"")!==window.location.href.replace(location.hash,"")&&d.href!==window.location.href+"#")&&(d.href.match(S.ignoreTypes)||(X.killEvent(c),c.stopImmediatePropagation(),d.href!==ab&&I(d.href,!0)))}function H(c){R&&R.abort();var d=c.originalEvent.state;d&&(C=d.id,d.url!==ab&&I(d.url,!1))}function I(a,h){R&&R.abort(),V.trigger(Y.requested,[h]),S.transitionOutDeferred=S.transitionOut.apply(W,[!1]);var l=P(a),m=l.params,n=l.hash,o=l.clean,p="User error",q=null,r=B.Deferred();m[S.requestKey]=!0,R=B.ajax({url:o,data:m,dataType:"json",cache:S.cache,xhr:function(){var b=new W.XMLHttpRequest;return b.addEventListener("progress",function(c){if(c.lengthComputable){var d=c.loaded/c.total;V.trigger(Y.progress,[d])}},!1),b},success:function(b,d,f){q="string"===B.type(b)?B.parseJSON(b):b,b.location&&(a=b.location,l=P(a),n=l.hash),r.resolve()},error:function(d,e,f){p=f,r.reject()}}),B.when(r,S.transitionOutDeferred).done(function(){J(l,q,h)}).fail(function(){V.trigger(Y.failed,[p])})}function J(a,g,h){V.trigger(Y.loaded,[g]),void 0!==B.fsAnalytics&&B.fsAnalytics("pageview"),S.render.call(this,g,a.hash),ab=a.url,h&&(C++,N(C,ab)),V.trigger(Y.rendered,[g]);var i=!1;if(""!==a.hash){var j=B(a.hash);j.length&&(i=j.offset().top)}i!==!1&&V.scrollTop(i)}function K(a,f){if("undefined"!==B.type(a)){var g;for(var h in a){a.hasOwnProperty(h)&&(g=B(h),g.length&&g.html(a[h]))}}}function L(b){S&&D.support.history?b&&I(b,!0):window.location.href=b}function M(c){var d=history.state;ab=c,O(d.id,c)}function N(c,d){history.pushState({id:c,url:d},aa+c,d)}function O(c,d){history.replaceState({id:c,url:d},aa+c,d)}function P(g){var h=g.indexOf("?"),i=g.indexOf("#"),j={},k="",l=g;return i>-1&&(k=g.slice(i),l=g.slice(0,i)),h>-1&&(j=X.parseQueryString(g.slice(h+1,i>-1?i:g.length)),l=g.slice(0,h)),{hash:k,params:j,url:g,clean:l}}var Q,R,S,T=D.Plugin("asap",{utilities:{_initialize:E,load:L,replace:M},events:{failed:"failed",loaded:"loaded",popState:"popstate",progress:"progress",requested:"requested",rendered:"rendered"}}),U={cache:!0,ignoreTypes:/\.(jpg|sjpg|jpeg|png|gif|zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,render:B.noop,requestKey:"fs-asap",selector:"a",transitionOut:B.noop},V=D.$window,W=V[0],X=T.functions,Y=T.events,Z=T.classes.raw,aa="asap-",ab="",C=1});
/* formstone v1.2.0 [background.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],b):b(jQuery,Formstone)}(function(M,O){function Q(){U(),X.on("scroll",U)}function S(){T.iterate.call(ab,at),T.iterate.call(ad,av),T.iterate.call(ad,aw)}function U(){Z=X.scrollTop()+O.windowHeight,0>Z&&(Z=0),T.iterate.call(ad,aw)}function W(){ab=M(N.base),ad=M(N.lazy),T.iterate.call(ad,av)}function Y(a){a.youTubeGuid=0,a.$container=M('<div class="'+P.container+'"></div>').appendTo(this),a.thisClasses=[P.base,a.customClass],a.visible=!0,a.lazy&&(a.visible=!1,a.thisClasses.push(P.lazy)),this.addClass(a.thisClasses.join(" ")),W(),a.lazy?(av(a),aw(a)):ac(a)}function aa(b){b.$container.remove(),this.removeClass(b.thisClasses.join(" ")).off(R.namespace),W()}function ac(c){if(c.visible){var d=c.source;c.source=null,ae(c,d,!0)}}function ae(a,k,l){if(k!==a.source&&a.visible){if(a.source=k,a.responsive=!1,a.isYouTube=!1,"object"===M.type(k)&&"string"===M.type(k.video)){var m=k.video.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);m&&m.length>=1&&(a.isYouTube=!0,a.videoId=m[1])}var n=!a.isYouTube&&"object"===M.type(k)&&(k.hasOwnProperty("mp4")||k.hasOwnProperty("ogg")||k.hasOwnProperty("webm"));if(a.video=a.isYouTube||n,a.playing=!1,a.isYouTube){a.playerReady=!1,a.posterLoaded=!1,al(a,k,l)}else{if("object"===M.type(k)&&k.hasOwnProperty("poster")){ak(a,k,l)}else{var o=k;if("object"===M.type(k)){var p,q=[],r=[];for(p in k){k.hasOwnProperty(p)&&r.push(p)}r.sort(T.sortAsc);for(p in r){r.hasOwnProperty(p)&&q.push({width:parseInt(r[p]),url:k[r[p]],mq:V.matchMedia("(min-width: "+parseInt(r[p])+"px)")})}a.responsive=!0,a.sources=q,o=ag(a)}ai(a,o,!1,l)}}}else{a.$el.trigger(R.loaded)}}function ag(b){var e=b.source;if(b.responsive){e=b.sources[0].url;for(var f in b.sources){b.sources.hasOwnProperty(f)&&(O.support.nativeMatchMedia?b.sources[f].mq.matches&&(e=b.sources[f].url):b.sources[f].width<O.fallbackWidth&&(e=b.sources[f].url))}}return e}function ai(a,j,k,l){var m=[P.media,P.image,l!==!0?P.animated:""].join(" "),n=M('<div class="'+m+'" aria-hidden="true"><img alt=""></div>'),o=n.find("img"),p=j;o.one(R.load,function(){af&&n.addClass(P["native"]).css({backgroundImage:"url('"+p+"')"}),n.fsTransition({property:"opacity"},function(){k||am(a)}).css({opacity:1}),au(a),k&&!l||a.$el.trigger(R.loaded)}).attr("src",p),a.responsive&&n.addClass(P.responsive),a.$container.append(n),(o[0].complete||4===o[0].readyState)&&o.trigger(R.load),a.currentSource=p}function ak(a,b,j){if(a.source&&a.source.poster&&(ai(a,a.source.poster,!0,!0),j=!1),!O.isMobile){var k=[P.media,P.video,j!==!0?P.animated:""].join(" "),l='<div class="'+k+'" aria-hidden="true">';l+="<video",a.loop&&(l+=" loop"),a.mute&&(l+=" muted"),l+=">",a.source.webm&&(l+='<source src="'+a.source.webm+'" type="video/webm" />'),a.source.mp4&&(l+='<source src="'+a.source.mp4+'" type="video/mp4" />'),a.source.ogg&&(l+='<source src="'+a.source.ogg+'" type="video/ogg" />'),l+="</video>",l+="</div>";var m=M(l),n=m.find("video");n.one(R.loadedMetaData,function(c){m.fsTransition({property:"opacity"},function(){am(a)}).css({opacity:1}),au(a),a.$el.trigger(R.loaded),a.autoPlay&&ap(a)}),a.$container.append(m)}}function al(a,b,l){if(!a.videoId){var m=b.match(/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);a.videoId=m[1]}if(a.posterLoaded||(a.source.poster||(a.source.poster="http://img.youtube.com/vi/"+a.videoId+"/0.jpg"),a.posterLoaded=!0,ai(a,a.source.poster,!0,l),l=!1),!O.isMobile){if(M("script[src*='youtube.com/iframe_api']").length||M("head").append('<script src="//www.youtube.com/iframe_api"></script>'),ah){var n=a.guid+"_"+a.youTubeGuid++,o=[P.media,P.embed,l!==!0?P.animated:""].join(" "),p='<div class="'+o+'" aria-hidden="true">';p+='<div id="'+n+'"></div>',p+="</div>";var q=M(p),r=M.extend(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:n,loop:a.loop?1:0,autoplay:1,origin:V.location.protocol+"//"+V.location.host},a.youtubeOptions);r.autoplay=1,a.$container.append(q),a.player&&(a.oldPlayer=a.player,a.player=null),a.player=new V.YT.Player(n,{videoId:a.videoId,playerVars:r,events:{onReady:function(c){a.playerReady=!0,a.mute&&a.player.mute(),a.autoPlay||a.player.pauseVideo()},onStateChange:function(c){a.playing||c.data!==V.YT.PlayerState.PLAYING?a.loop&&a.playing&&c.data===V.YT.PlayerState.ENDED&&a.player.playVideo():(a.playing=!0,q.fsTransition({property:"opacity"},function(){am(a)}).css({opacity:1}),au(a),a.$el.trigger(R.loaded)),a.$el.find(N.embed).addClass(P.ready)},onPlaybackQualityChange:function(c){},onPlaybackRateChange:function(c){},onError:function(c){},onApiChange:function(c){}}}),au(a)}else{aj.push({data:a,source:b})}}}function am(c){var d=c.$container.find(N.media);d.length>=1&&(d.not(":last").remove(),c.oldPlayer=null)}function an(c){var d=c.$container.find(N.media);d.length>=1&&d.fsTransition({property:"opacity"},function(){d.remove(),delete c.source}).css({opacity:0})}function ao(c){if(c.video&&c.playing){if(c.isYouTube){c.playerReady?c.player.pauseVideo():c.autoPlay=!1}else{var d=c.$container.find("video");d.length&&d[0].pause()}c.playing=!1}}function ap(c){if(c.video&&!c.playing){if(c.isYouTube){c.playerReady?c.player.playVideo():c.autoPlay=!0}else{var d=c.$container.find("video");d.length&&d[0].play(),c.playing=!0}}}function aq(c){if(c.video){if(c.isYouTube&&c.playerReady){c.player.mute()}else{var d=c.$container.find("video");d.length&&(d[0].muted=!0)}}c.mute=!0}function ar(c){if(c.video){if(c.isYouTube&&c.playerReady){c.player.unMute()}else{var d=c.$container.find("video");d.length&&(d[0].muted=!1)}c.playing=!0}c.mute=!1}function at(c){if(c.visible){if(c.responsive){var d=ag(c);d!==c.currentSource?ai(c,d,!1,!0):au(c)}else{au(c)}}}function au(l){for(var m=l.$container.find(N.media),n=0,o=m.length;o>n;n++){var p=m.eq(n),q=l.isYouTube?"iframe":p.find("video").length?"video":"img",r=p.find(q);if(r.length&&("img"!==q||!af)){var s=l.$el.outerWidth(),t=l.$el.outerHeight(),u=ax(l,r);l.width=u.width,l.height=u.height,l.left=0,l.top=0;var v=l.isYouTube?l.embedRatio:l.width/l.height;l.height=t,l.width=l.height*v,l.width<s&&(l.width=s,l.height=l.width/v),l.left=-(l.width-s)/2,l.top=-(l.height-t)/2,p.css({height:l.height,width:l.width,left:l.left,top:l.top})}}}function av(b){b.scrollTop=b.$el.offset().top}function aw(b){!b.visible&&b.scrollTop<Z+b.lazyEdge&&(b.visible=!0,ac(b))}function ax(a,f){if(a.isYouTube){return{height:500,width:500/a.embedRatio}}if(f.is("img")){var g=f[0];if("undefined"!==M.type(g.naturalHeight)){return{height:g.naturalHeight,width:g.naturalWidth}}var h=new Image;return h.src=g.src,{height:h.height,width:h.width}}return{height:f[0].videoHeight,width:f[0].videoWidth}}var ay=O.Plugin("background",{widget:!0,defaults:{autoPlay:!0,customClass:"",embedRatio:1.777777,lazy:!1,lazyEdge:100,loop:!0,mute:!0,source:null,youtubeOptions:{}},classes:["container","media","animated","responsive","native","fixed","ready","lazy"],events:{loaded:"loaded",ready:"ready",loadedMetaData:"loadedmetadata"},methods:{_setup:Q,_construct:Y,_destruct:aa,_resize:S,play:ap,pause:ao,mute:aq,unmute:ar,resize:au,load:ae,unload:an}}),N=ay.classes,P=N.raw,R=ay.events,T=ay.functions,V=O.window,X=O.$window,Z=0,ab=[],ad=[],af="backgroundSize" in O.document.documentElement.style,ah=!1,aj=[];V.onYouTubeIframeAPIReady=function(){ah=!0;for(var b in aj){aj.hasOwnProperty(b)&&al(aj[b].data,aj[b].source)}aj=[]}});
/* formstone v1.2.0 [carousel.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],b):b(jQuery,Formstone)}(function(V,X){function Z(b){aF.iterate.call(aH,al)}function ab(){aH=V(az.base)}function ad(a){var b;a.didPan=!1,a.carouselClasses=[aB.base,a.theme,a.customClass,a.rtl?aB.rtl:aB.ltr],a.maxWidth=a.maxWidth===1/0?"100000px":a.maxWidth,a.mq="(min-width:"+a.minWidth+") and (max-width:"+a.maxWidth+")",a.customControls="object"===V.type(a.controls)&&a.controls.previous&&a.controls.next,a.customPagination="string"===V.type(a.pagination),a.id=this.attr("id"),a.id?a.ariaId=a.id:(a.ariaId=a.rawGuid,this.attr("id",a.ariaId)),X.support.transform||(a.useMargin=!0);var d="",g="",h=[aB.control,aB.control_previous].join(" "),j=[aB.control,aB.control_next].join(" ");a.controls&&!a.customControls&&(d+='<div class="'+aB.controls+'" aria-label="carousel controls" aria-controls="'+a.ariaId+'">',d+='<button type="button" class="'+h+'" aria-label="'+a.labels.previous+'">'+a.labels.previous+"</button>",d+='<button type="button" class="'+j+'" aria-label="'+a.labels.next+'">'+a.labels.next+"</button>",d+="</div>"),a.pagination&&!a.customPagination&&(g+='<div class="'+aB.pagination+'" aria-label="carousel pagination" aria-controls="'+a.ariaId+'" role="navigation">',g+="</div>"),a.autoHeight&&a.carouselClasses.push(aB.auto_height),a.contained&&a.carouselClasses.push(aB.contained),a.single&&a.carouselClasses.push(aB.single),this.addClass(a.carouselClasses.join(" ")).wrapInner('<div class="'+aB.wrapper+'" aria-live="polite"><div class="'+aB.container+'"><div class="'+aB.canister+'"></div></div></div>').append(d).wrapInner('<div class="'+aB.viewport+'"></div>').append(g),a.$viewport=this.find(az.viewport).eq(0),a.$container=this.find(az.container).eq(0),a.$canister=this.find(az.canister).eq(0),a.$pagination=this.find(az.pagination).eq(0),a.$controlPrevious=a.$controlNext=V(""),a.customControls?(a.$controls=V(a.controls.container).addClass([aB.controls,aB.controls_custom].join(" ")),a.$controlPrevious=V(a.controls.previous).addClass(h),a.$controlNext=V(a.controls.next).addClass(j)):(a.$controls=this.find(az.controls).eq(0),a.$controlPrevious=a.$controls.find(az.control_previous),a.$controlNext=a.$controls.find(az.control_next)),a.$controlItems=a.$controlPrevious.add(a.$controlNext),a.customPagination&&(a.$pagination=V(a.pagination).addClass([aB.pagination])),a.$paginationItems=a.$pagination.find(az.page),a.index=0,a.enabled=!1,a.leftPosition=0,a.autoTimer=null,a.resizeTimer=null;var r=this.data(av+"-linked");a.linked=r?"[data-"+av+'-linked="'+r+'"]':!1,a.linked&&(a.paged=!0);var s=this.data(av+"-controller-for")||"";if(a.$subordinate=V(s),a.$subordinate.length&&(a.controller=!0),"object"===V.type(a.show)){var t=a.show,u=[],v=[];for(b in t){t.hasOwnProperty(b)&&v.push(b)}v.sort(aF.sortAsc);for(b in v){v.hasOwnProperty(b)&&u.push({width:parseInt(v[b]),count:t[v[b]],mq:window.matchMedia("(min-width: "+parseInt(v[b])+"px)")})}a.show=u}an(a),V.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){aj.call(a.$el,a)},leave:function(){ah.call(a.$el,a)}}),ab(),a.carouselClasses.push(aB.enabled),a.carouselClasses.push(aB.animated)}function af(a){aF.clearTimer(a.autoTimer),aF.clearTimer(a.resizeTimer),ah.call(this,a),V.fsMediaquery("unbind",a.rawGuid),a.id!==a.ariaId&&this.removeAttr("id"),a.$controlItems.removeClass([az.control,aB.control_previous,az.control_next,az.visible].join(" ")).off(aD.namespace),a.$images.off(aD.namespace),a.$canister.fsTouch("destroy"),a.$items.removeClass([aB.item,aB.visible,az.item_previous,az.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),a.controls&&!a.customControls&&a.$controls.remove(),a.customControls&&a.$controls.removeClass([aB.controls,aB.controls_custom,aB.visible].join(" ")),a.pagination&&!a.customPagination&&a.$pagination.remove(),a.customPagination&&a.$pagination.html("").removeClass([aB.pagination,aB.visible].join(" ")),this.removeClass(a.carouselClasses.join(" ")),ab()}function ah(b){b.enabled&&(aF.clearTimer(b.autoTimer),b.enabled=!1,b.$subordinate.off(aD.update),this.removeClass([aB.enabled,aB.animated].join(" ")).off(aD.namespace),b.$canister.fsTouch("destroy").off(aD.namespace).attr("style","").css(aL,"none"),b.$items.css({width:"",height:""}).removeClass([aB.visible,az.item_previous,az.item_next].join(" ")),b.$images.off(aD.namespace),b.$controlItems.off(aD.namespace),b.$pagination.html("").off(aD.namespace),aK(b),b.useMargin?b.$canister.css({marginLeft:""}):b.$canister.css(aJ,""),b.index=0)}function aj(b){b.enabled||(b.enabled=!0,this.addClass(aB.enabled),b.$controlItems.on(aD.click,b,aE),b.$pagination.on(aD.click,az.page,b,aG),b.$items.on(aD.click,b,ak),b.$subordinate.on(aD.update,b,am),am({data:b},0),b.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(aD.panStart,b,aP).on(aD.pan,b,aQ).on(aD.panEnd,b,W).on(aD.swipe,b,ae).css(aL,""),an(b),b.$images.on(aD.load,b,aA),b.autoAdvance&&(b.autoTimer=aF.startTimer(b.autoTimer,b.autoTime,function(){aC(b)},!0)),al.call(this,b))}function al(m){if(m.enabled){var n,o,p,q,r,s,t,u,v,w;if(m.count=m.$items.length,m.count<1){return aK(m),void m.$canister.css({height:""})}for(this.removeClass(aB.animated),m.containerWidth=m.$container.outerWidth(!1),m.visible=aO(m),m.perPage=m.paged?1:m.visible,m.itemMarginLeft=parseInt(m.$items.eq(0).css("marginLeft")),m.itemMarginRight=parseInt(m.$items.eq(0).css("marginRight")),m.itemMargin=m.itemMarginLeft+m.itemMarginRight,isNaN(m.itemMargin)&&(m.itemMargin=0),m.itemWidth=(m.containerWidth-m.itemMargin*(m.visible-1))/m.visible,m.itemHeight=0,m.pageWidth=m.paged?m.itemWidth:m.containerWidth,m.pageCount=Math.ceil(m.count/m.perPage),m.canisterWidth=m.single?m.containerWidth:(m.pageWidth+m.itemMargin)*m.pageCount,m.$canister.css({width:m.matchWidth?m.canisterWidth:1000000,height:""}),m.$items.css({width:m.matchWidth?m.itemWidth:"",height:""}).removeClass([aB.visible,aB.item_previous,aB.item_next].join(" ")),m.pages=[],o=0,p=0;o<m.count;o+=m.perPage){for(s=m.$items.slice(o,o+m.perPage),u=0,v=0,s.length<m.perPage&&(s=0===o?m.$items:m.$items.slice(m.$items.length-m.perPage)),t=m.rtl?s.eq(s.length-1):s.eq(0),w=t.position().left,q=0;q<s.length;q++){r=s.eq(q).outerWidth(!0),n=s.eq(q).outerHeight(),u+=r,n>v&&(v=n)}m.pages.push({left:m.rtl?w-(m.canisterWidth-u):w,height:v,width:u,$items:s}),v>m.itemHeight&&(m.itemHeight=v),p++}m.paged&&(m.pageCount-=m.count%m.visible),m.pageCount<=0&&(m.pageCount=1),m.maxMove=-m.pages[m.pageCount-1].left,m.autoHeight?m.$canister.css({height:m.pages[0].height}):m.matchHeight&&m.$items.css({height:m.itemHeight});var x="";for(o=0;o<m.pageCount;o++){x+='<button type="button" class="'+aB.page+'">'+(o+1)+"</button>"}m.$pagination.html(x),m.pageCount<=1?aK(m):aM(m),m.$paginationItems=m.$pagination.find(az.page),aI(m,m.index,!1),setTimeout(function(){m.$el.addClass(aB.animated)},5)}}function an(b){b.$items=b.$canister.children().not(":hidden").addClass(aB.item),b.$images=b.$canister.find("img"),b.totalImages=b.$images.length}function ap(b){b.enabled&&ar.call(this,b,!1)}function ar(c,d){c.$images.off(aD.namespace),d!==!1&&c.$canister.html(d),c.index=0,an(c),al.call(this,c)}function au(f,g,h,i,j){f.enabled&&(aF.clearTimer(f.autoTimer),"undefined"==typeof j&&(j=!0),aI(f,g-1,j,h,i))}function aw(c){var d=c.index-1;c.infinite&&0>d&&(d=c.pageCount-1),aI(c,d)}function ay(c){var d=c.index+1;c.infinite&&d>=c.pageCount&&(d=0),aI(c,d)}function aA(c){var d=c.data;d.resizeTimer=aF.startTimer(d.resizeTimer,20,function(){al.call(d.$el,d)})}function aC(c){var d=c.index+1;d>=c.pageCount&&(d=0),aI(c,d)}function aE(a){aF.killEvent(a);var e=a.data,f=e.index+(V(a.currentTarget).hasClass(aB.control_next)?1:-1);aF.clearTimer(e.autoTimer),aI(e,f)}function aG(a){aF.killEvent(a);var e=a.data,f=e.$paginationItems.index(V(a.currentTarget));aF.clearTimer(e.autoTimer),aI(e,f)}function aI(a,i,j,k,l){if(0>i&&(i=a.infinite?a.pageCount-1:0),i>=a.pageCount&&(i=a.infinite?0:a.pageCount-1),!(a.count<1)){a.pages[i]&&(a.leftPosition=-a.pages[i].left),a.leftPosition=ao(a,a.leftPosition),a.useMargin?a.$canister.css({marginLeft:a.leftPosition}):j===!1?(a.$canister.css(aL,"none").css(aJ,"translateX("+a.leftPosition+"px)"),setTimeout(function(){a.$canister.css(aL,"")},5)):a.$canister.css(aJ,"translateX("+a.leftPosition+"px)"),a.$items.removeClass([aB.visible,aB.item_previous,aB.item_next].join(" "));for(var m=0,n=a.pages.length;n>m;m++){m===i?a.pages[m].$items.addClass(aB.visible).attr("aria-hidden","false"):a.pages[m].$items.not(a.pages[i].$items).addClass(i>m?aB.item_previous:aB.item_next).attr("aria-hidden","true")}a.autoHeight&&a.$canister.css({height:a.pages[i].height}),j!==!1&&k!==!0&&i!==a.index&&(a.infinite||i>-1&&i<a.pageCount)&&a.$el.trigger(aD.update,[i]),a.index=i,a.linked&&l!==!0&&V(a.linked).not(a.$el)[ax]("jump",a.index+1,!0,!0),aN(a)}}function aK(b){b.$controls.removeClass(aB.visible),b.$controlItems.removeClass(aB.visible),b.$pagination.removeClass(aB.visible)}function aM(b){b.$controls.addClass(aB.visible),b.$controlItems.addClass(aB.visible),b.$pagination.addClass(aB.visible)}function aN(b){b.$paginationItems.removeClass(aB.active).eq(b.index).addClass(aB.active),b.infinite?b.$controlItems.addClass(aB.visible):b.pageCount<1?b.$controlItems.removeClass(aB.visible):(b.$controlItems.addClass(aB.visible),b.index<=0?b.$controlPrevious.removeClass(aB.visible):(b.index>=b.pageCount-1||!b.single&&b.leftPosition===b.maxMove)&&b.$controlNext.removeClass(aB.visible))}function aO(a){var b=1;if(a.single){return b}if("array"===V.type(a.show)){for(var f in a.show){a.show.hasOwnProperty(f)&&(X.support.nativeMatchMedia?a.show[f].mq.matches&&(b=a.show[f].count):a.show[f].width<X.fallbackWidth&&(b=a.show[f].count))}}else{b=a.show}return a.fill&&a.count<b?a.count:b}function aP(a,g){var h=a.data;if(aF.clearTimer(h.autoTimer),!h.single){if(h.useMargin){h.leftPosition=parseInt(h.$canister.css("marginLeft"))}else{var i=h.$canister.css(aJ).split(",");h.leftPosition=parseInt(i[4])}if(h.$canister.css(aL,"none"),aQ(a),h.linked&&g!==!0){var j=a.deltaX/h.pageWidth;h.rtl&&(j*=-1),V(h.linked).not(h.$el)[ax]("panStart",j)}}h.isTouching=!0}function aQ(a,f){var g=a.data;if(!g.single&&(g.touchLeft=ao(g,g.leftPosition+a.deltaX),g.useMargin?g.$canister.css({marginLeft:g.touchLeft}):g.$canister.css(aJ,"translateX("+g.touchLeft+"px)"),g.linked&&f!==!0)){var h=a.deltaX/g.pageWidth;g.rtl&&(h*=-1),V(g.linked).not(g.$el)[ax]("pan",h)}}function W(a,m){var n=a.data,o=Math.abs(a.deltaX),p=aq(n,a),q=!1;if(n.didPan=!1,!n.single){var r,s,t=Math.abs(n.touchLeft),u=!1,v=n.rtl?"right":"left";if(a.directionX===v){for(r=0,s=n.pages.length;s>r;r++){u=n.pages[r],t>Math.abs(u.left)+20&&(q=r+1)}}else{for(r=n.pages.length-1,s=0;r>=s;r--){u=n.pages[r],t<Math.abs(u.left)&&(q=r-1)}}}q===!1&&(q=50>o?n.index:n.index+p),q!==n.index&&(n.didPan=!0),n.linked&&m!==!0&&V(n.linked).not(n.$el)[ax]("panEnd",q),ai(n,q)}function Y(e,f){if(aF.clearTimer(e.autoTimer),!e.single){if(e.rtl&&(f*=-1),e.useMargin){e.leftPosition=parseInt(e.$canister.css("marginLeft"))}else{var g=e.$canister.css(aJ).split(",");e.leftPosition=parseInt(g[4])}e.$canister.css(aL,"none");var h={data:e,deltaX:e.pageWidth*f};aQ(h,!0)}e.isTouching=!0}function aa(d,e){if(!d.single){d.rtl&&(e*=-1);var f=d.pageWidth*e;d.touchLeft=ao(d,d.leftPosition+f),d.useMargin?d.$canister.css({marginLeft:d.touchLeft}):d.$canister.css(aJ,"translateX("+d.touchLeft+"px)")}}function ac(c,d){ai(c,d,!0)}function ae(a,g){var h=a.data,i=aq(h,a),j=h.index+i;h.linked&&g!==!0&&V(h.linked).not(h.$el)[ax]("swipe",a.directionX),ai(h,j)}function ag(d,e){var f={data:d,directionX:e};ae(f,!0)}function ai(c,d){c.$canister.css(aL,""),aI(c,d),c.isTouching=!1}function ak(a){var f=a.data,g=V(a.currentTarget);if(!f.didPan&&(g.trigger(aD.itemClick),f.controller)){var h=f.$items.index(g);am(a,h),f.$subordinate[ax]("jump",h+1,!0)}}function am(f,g){var h=f.data;if(h.controller){var i=h.$items.eq(g);h.$items.removeClass(aB.active),i.addClass(aB.active);for(var j=0;j<h.pageCount;j++){if(h.pages[j].$items.is(i)){aI(h,j,!0,!0);break}}}}function ao(c,d){return isNaN(d)?d=0:c.rtl?(d>c.maxMove&&(d=c.maxMove),0>d&&(d=0)):(d<c.maxMove&&(d=c.maxMove),d>0&&(d=0)),d}function aq(c,d){return c.rtl?"right"===d.directionX?1:-1:"left"===d.directionX?1:-1}var at=X.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8000,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:ad,_destruct:af,_resize:Z,disable:ah,enable:aj,jump:au,previous:aw,next:ay,reset:ap,resize:al,update:ar,panStart:Y,pan:aa,panEnd:ac,swipe:ag}}),av=at.namespace,ax=at.namespaceClean,az=at.classes,aB=az.raw,aD=at.events,aF=at.functions,aH=[],aJ=X.transform,aL=X.transition});
/* formstone v1.2.0 [checkbox.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(r,s){function t(a){var g=this.closest("label"),h=g.length?g.eq(0):r("label[for="+this.attr("id")+"]"),i=[G.base,a.theme,a.customClass].join(" "),j="";a.radio="radio"===this.attr("type"),a.group=this.attr("name"),j+='<div class="'+G.marker+'" aria-hidden="true">',j+='<div class="'+G.flag+'"></div>',a.toggle&&(i+=" "+G.toggle,j+='<span class="'+[G.state,G.state_on].join(" ")+'">'+a.labels.on+"</span>",j+='<span class="'+[G.state,G.state_off].join(" ")+'">'+a.labels.off+"</span>"),a.radio&&(i+=" "+G.radio),j+="</div>",a.$placeholder=r('<span class="'+G.element_placeholder+'"></span>'),this.before(a.$placeholder),h.length?h.addClass(G.label).wrap('<div class="'+i+'"></div>').before(j):this.before('<div class=" '+i+'">'+j+"</div>"),a.$checkbox=h.length?h.parents(F.base):this.prev(F.base),a.$marker=a.$checkbox.find(F.marker),a.$states=a.$checkbox.find(F.state),a.$label=h,this.is(":checked")&&a.$checkbox.addClass(G.checked),this.is(":disabled")&&a.$checkbox.addClass(G.disabled),this.appendTo(a.$marker),this.on(H.focus,a,C).on(H.blur,a,D).on(H.change,a,z).on(H.click,a,y).on(H.deselect,a,B),a.$checkbox.on(H.click,a,y)}function u(b){b.$checkbox.off(H.namespace),b.$marker.remove(),b.$states.remove(),b.$label.unwrap().removeClass(G.label),b.$placeholder.before(this),b.$placeholder.remove(),this.off(H.namespace)}function v(b){this.prop("disabled",!1),b.$checkbox.removeClass(G.disabled)}function w(b){this.prop("disabled",!0),b.$checkbox.addClass(G.disabled)}function x(d){var e=d.$el.is(":disabled"),f=d.$el.is(":checked");e||(f?A({data:d}):B({data:d}))}function y(a){a.stopPropagation();var d=a.data;r(a.target).is(d.$el)||(a.preventDefault(),d.$el.trigger("click"))}function z(e){var f=e.data,g=f.$el.is(":disabled"),h=f.$el.is(":checked");g||(f.radio?h&&A(e):h?A(e):B(e))}function A(a){a.data.radio&&r('input[name="'+a.data.group+'"]').not(a.data.$el).trigger("deselect"),a.data.$el.trigger(H.focus),a.data.$checkbox.addClass(G.checked)}function B(b){b.data.$el.trigger(H.focus),b.data.$checkbox.removeClass(G.checked)}function C(b){b.data.$checkbox.addClass(G.focus)}function D(b){b.data.$checkbox.removeClass(G.focus)}var E=s.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:t,_destruct:u,enable:v,disable:w,update:x},events:{deselect:"deselect"}}),F=E.classes,G=F.raw,H=E.events;E.functions});
/* formstone v1.2.0 [cookie.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(i,j){function k(a,d,e){if("object"===i.type(a)){o=i.extend(o,a)}else{if(e=i.extend({},o,e||{}),"undefined"!==i.type(a)){if("undefined"===i.type(d)){return m(a)}null===d?n(a,e):l(a,d,e)}}return null}function l(a,h,q){var r=!1,s=new Date;q.expires&&"number"===i.type(q.expires)&&(s.setTime(s.getTime()+q.expires),r=s.toGMTString());var t=q.domain?"; domain="+q.domain:"",u=r?"; expires="+r:"",v=r?"; max-age="+q.expires/1000:"",w=q.path?"; path="+q.path:"",x=q.secure?"; secure":"";p.cookie=a+"="+h+u+v+t+w+x}function m(f){for(var g=f+"=",h=p.cookie.split(";"),q=0;q<h.length;q++){for(var r=h[q];" "===r.charAt(0);){r=r.substring(1,r.length)}if(0===r.indexOf(g)){return r.substring(g.length,r.length)}}return null}function n(a,d){l(a,"",i.extend({},d,{expires:-604800000})),console.log(p.cookie)}var o=(j.Plugin("cookie",{utilities:{_delegate:k}}),{domain:null,expires:604800000,path:null,secure:null}),p=j.document});
/* formstone v1.2.0 [dropdown.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./scrollbar","./touch"],b):b(jQuery,Formstone)}(function(I,K){function M(){X=K.$body}function O(a){a.multiple=this.prop("multiple"),a.disabled=this.is(":disabled")||this.is("[readonly]"),a.lastIndex=!1,a.multiple?a.links=!1:a.external&&(a.links=!0);var b=this.find("[selected]").not(":disabled"),i=this.find(":selected").not(":disabled"),j=i.text(),o=this.find("option").index(i);a.multiple||""===a.label||b.length?a.label="":(i=this.prepend('<option value="" class="'+L.item_placeholder+'" selected>'+a.label+"</option>"),j=a.label,o=0);var p=this.find("option, optgroup"),q=p.filter("option"),r=I("[for="+this.attr("id")+"]");a.tabIndex=this[0].tabIndex,this[0].tabIndex=-1,r.length&&(r[0].tabIndex=-1);var s=[L.base,a.theme,a.customClass];a.mobile||K.isMobile?s.push(L.mobile):a.cover&&s.push(L.cover),a.multiple&&s.push(L.multiple),a.disabled&&s.push(L.disabled),a.id=this.attr("id"),a.id?a.ariaId=a.id:a.ariaId=a.rawGuid,a.ariaId+="-dropdown",a.selectedAriaId=a.ariaId+"-selected";var u="",v="";u+='<div class="'+s.join(" ")+'"id="'+a.ariaId+'" tabindex="'+a.tabIndex+'" role="listbox"',u+=a.multiple?' aria-label="multi select"':' aria-haspopup="true" aria-live="polite" aria-labeledby="'+a.selectedAriaId+'"',u+="></div>",a.multiple||(v+='<button type="button" class="'+L.selected+'" id="'+a.selectedAriaId+'" tabindex="-1">',v+=I("<span></span>").text(ao(j,a.trim)).html(),v+="</button>"),v+='<div class="'+L.options+'">',v+="</div>",this.wrap(u).after(v),a.$dropdown=this.parent(J.base),a.$label=r,a.$allOptions=p,a.$options=q,a.$selected=a.$dropdown.find(J.selected),a.$wrapper=a.$dropdown.find(J.options),a.$placeholder=a.$dropdown.find(J.placeholder),a.index=-1,a.closed=!0,a.focused=!1,Y(a),a.multiple||ak(o,a),void 0!==I.fn.fsScrollbar&&a.$wrapper.fsScrollbar({theme:a.theme}).find(".fs-scrollbar-content").attr("tabindex",null),a.$dropdown.on(N.click,a,Z),a.$selected.on(N.click,a,Z),a.$dropdown.on(N.click,J.item,a,af).on(N.close,a,ae),this.on(N.change,a,ag),K.isMobile||(this.on(N.focusIn,a,function(c){c.data.$dropdown.trigger(N.raw.focus)}),a.$dropdown.on(N.focusIn,a,ah).on(N.focusOut,a,ai))}function Q(a){a.$dropdown.hasClass(L.open)&&a.$selected.trigger(N.click),void 0!==I.fn.fsScrollbar&&a.$wrapper.fsScrollbar("destroy"),a.$el[0].tabIndex=a.tabIndex,a.$label.length&&(a.$label[0].tabIndex=a.tabIndex),a.$dropdown.off(N.namespace),a.$options.off(N.namespace),a.$placeholder.remove(),a.$selected.remove(),a.$wrapper.remove(),a.$el.off(N.namespace).show().unwrap()}function S(d,e){if("undefined"!=typeof e){var f=d.$items.index(d.$items.filter("[data-value="+e+"]"));d.$items.eq(f).addClass(L.item_disabled),d.$options.eq(f).prop("disabled",!0)}else{d.$dropdown.hasClass(L.open)&&d.$selected.trigger(N.click),d.$dropdown.addClass(L.disabled),d.$el.prop("disabled",!0),d.disabled=!0}}function U(d,e){if("undefined"!=typeof e){var f=d.$items.index(d.$items.filter("[data-value="+e+"]"));d.$items.eq(f).removeClass(L.item_disabled),d.$options.eq(f).prop("disabled",!1)}else{d.$dropdown.removeClass(L.disabled),d.$el.prop("disabled",!1),d.disabled=!1}}function W(a){void 0!==I.fn.fsScrollbar&&a.$wrapper.fsScrollbar("destroy");var d=a.index;a.$allOptions=a.$el.find("option, optgroup"),a.$options=a.$allOptions.filter("option"),a.index=-1,d=a.$options.index(a.$options.filter(":selected")),Y(a),a.multiple||ak(d,a),void 0!==I.fn.fsScrollbar&&a.$wrapper.fsScrollbar()}function Y(a){for(var l="",m=0,n=0,o=a.$allOptions.length;o>n;n++){var p=a.$allOptions.eq(n),q=[];if("OPTGROUP"===p[0].tagName){q.push(L.group),p.is(":disabled")&&q.push(L.disabled),l+='<span class="'+q.join(" ")+'">'+p.attr("label")+"</span>"}else{var r=p.val(),s=p.data("label"),t=a.links?"a":'button type="button"';p.attr("value")||p.attr("value",r),q.push(L.item),p.hasClass(L.item_placeholder)&&(q.push(L.item_placeholder),t="span"),p.is(":selected")&&q.push(L.item_selected),p.is(":disabled")&&q.push(L.item_disabled),l+="<"+t+' class="'+q.join(" ")+'"',a.links?"span"===t?l+=' aria-hidden="true"':(l+=' href="'+r+'"',a.external&&(l+=' target="_blank"')):l+=' data-value="'+r+'"',l+=' role="option"',p.is(":selected")&&(l+=' "aria-selected"="true"'),l+=">",l+=s?s:P.decodeEntities(ao(p.text(),a.trim)),l+="</"+t+">",m++}}a.$items=a.$wrapper.html(I.parseHTML(l)).find(J.item)}function Z(b){P.killEvent(b);var f=b.data;if(!f.disabled){if(f.mobile||!K.isMobile||K.isFirefoxMobile||K.isIEMobile){f.closed?ab(f):ac(f)}else{var g=f.$el[0];if(V.createEvent){var h=V.createEvent("MouseEvents");h.initMouseEvent("mousedown",!1,!0,R,0,0,0,0,0,!1,!1,!1,!1,0,null),g.dispatchEvent(h)}else{g.fireEvent&&g.fireEvent("onmousedown")}}}aa(f)}function aa(a){I(J.base).not(a.$dropdown).trigger(N.close,[a])}function ab(e){if(e.closed){var f=T.height(),g=e.$wrapper.outerHeight(!0),h=e.$dropdown[0].getBoundingClientRect();h.bottom+g>f-e.bottomEdge&&e.$dropdown.addClass(L.bottom),X.on(N.click+e.dotGuid,":not("+J.options+")",e,ad),e.$dropdown.trigger(N.focusIn),e.$dropdown.addClass(L.open),al(e),e.closed=!1}}function ac(b){b&&!b.closed&&(X.off(N.click+b.dotGuid),b.$dropdown.removeClass([L.open,L.bottom].join(" ")),b.closed=!0)}function ad(a){P.killEvent(a);var d=a.data;d&&0===I(a.currentTarget).parents(J.base).length&&(ac(d),d.$dropdown.trigger(N.focusOut))}function ae(c){var d=c.data;d&&(ac(d),d.$dropdown.trigger(N.focusOut))}function af(a){var f=I(this),g=a.data;if(P.killEvent(a),!g.disabled){var h=g.$items.index(f);g.focusIndex=h,g.$wrapper.is(":visible")&&(ak(h,g,a.shiftKey,a.metaKey||a.ctrlKey),am(g)),g.multiple||ac(g),g.$dropdown.trigger(N.focus)}}function ag(a,f){var g=(I(this),a.data);if(!f&&!g.multiple){var h=g.$options.index(g.$options.filter(":selected"));g.focusIndex=h,ak(h,g),am(g,!0)}}function ah(a){P.killEvent(a);var d=(I(a.currentTarget),a.data);d.disabled||d.multiple||d.focused||(aa(d),d.focused=!0,d.focusIndex=d.index,d.input="",d.$dropdown.addClass(L.focus).on(N.keyDown+d.dotGuid,d,aj))}function ai(a){P.killEvent(a);var d=(I(a.currentTarget),a.data);d.focused&&d.closed&&(d.focused=!1,d.$dropdown.removeClass(L.focus).off(N.keyDown+d.dotGuid),d.multiple||(ac(d),d.index!==d.focusIndex&&(am(d),d.focusIndex=d.index)))}function aj(a){var b=a.data;if(b.keyTimer=P.startTimer(b.keyTimer,1000,function(){b.input=""}),13===a.keyCode){b.closed||(ac(b),ak(b.index,b)),am(b)}else{if(!(9===a.keyCode||a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)){P.killEvent(a);var j=b.$items.length-1,k=b.index<0?0:b.index;if(I.inArray(a.keyCode,K.isFirefox?[38,40,37,39]:[38,40])>-1){k+=38===a.keyCode||K.isFirefox&&37===a.keyCode?-1:1,0>k&&(k=0),k>j&&(k=j)}else{var l,m,n=String.fromCharCode(a.keyCode).toUpperCase();for(b.input+=n,m=b.index+1;j>=m;m++){if(l=b.$options.eq(m).text().substr(0,b.input.length).toUpperCase(),l===b.input){k=m;break}}if(0>k||k===b.index){for(m=0;j>=m;m++){if(l=b.$options.eq(m).text().substr(0,b.input.length).toUpperCase(),l===b.input){k=m;break}}}}k>=0&&(ak(k,b),al(b))}}}function ak(b,m,n,o){var p=m.$items.eq(b),q=m.$options.eq(b),r=p.hasClass(L.item_selected),s=p.hasClass(L.item_disabled);if(!s){if(m.multiple){if(K.isMobile){s||(r?(q.prop("selected",null).attr("aria-selected",null),p.removeClass(L.item_selected)):(q.prop("selected",!0).attr("aria-selected",!0),p.addClass(L.item_selected)))}else{if(n&&m.lastIndex!==!1){var t=m.lastIndex>b?b:m.lastIndex,u=(m.lastIndex>b?m.lastIndex:b)+1;m.$options.prop("selected",null).attr("aria-selected",null),m.$items.filter(J.item_selected).removeClass(L.item_selected),m.$options.slice(t,u).not("[disabled]").prop("selected",!0),m.$items.slice(t,u).not(J.item_disabled).addClass(L.item_selected)}else{o?(r?(q.prop("selected",null).attr("aria-selected",null),p.removeClass(L.item_selected)):(q.prop("selected",!0).attr("aria-selected",!0),p.addClass(L.item_selected)),m.lastIndex=b):(m.$options.prop("selected",null).attr("aria-selected",null),m.$items.filter(J.item_selected).removeClass(L.item_selected),q.prop("selected",!0).attr("aria-selected",!0),p.addClass(L.item_selected),m.lastIndex=b)}}}else{if(b>-1&&b<m.$items.length){if(b!==m.index){var v=q.data("label")||p.html();m.$selected.html(v).removeClass(J.item_placeholder),m.$items.filter(J.item_selected).removeClass(L.item_selected),m.$el[0].selectedIndex=b,p.addClass(L.item_selected),m.index=b}}else{""!==m.label&&m.$selected.html(m.label)}}}}function al(a){var f=a.$items.eq(a.index),g=a.index>=0&&!f.hasClass(L.item_placeholder)?f.position():{left:0,top:0},h=(a.$wrapper.outerHeight()-f.outerHeight())/2;void 0!==I.fn.fsScrollbar?a.$wrapper.fsScrollbar("resize").fsScrollbar("scroll",a.$wrapper.find(".fs-scrollbar-content").scrollTop()+g.top):a.$wrapper.scrollTop(a.$wrapper.scrollTop()+g.top-h)}function am(c,d){c.links?an(c):d||c.$el.trigger(N.raw.change,[!0])}function an(c){var d=c.$el.val();c.external?R.open(d):R.location.href=d}function ao(c,d){return 0===d?c:c.length>d?c.substring(0,d)+"...":c}var ap=K.Plugin("dropdown",{widget:!0,defaults:{bottomEdge:0,cover:!1,customClass:"",label:"",external:!1,links:!1,mobile:!1,theme:"fs-light",trim:0},methods:{_setup:M,_construct:O,_destruct:Q,disable:S,enable:U,update:W,open:ab,close:ac},classes:["cover","bottom","multiple","mobile","open","disabled","focus","selected","options","group","item","item_disabled","item_selected","item_placeholder"],events:{close:"close"}}),J=ap.classes,L=J.raw,N=ap.events,P=ap.functions,R=K.window,T=K.$window,V=K.document,X=null});
/* formstone v1.2.0 [equalize.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],b):b(jQuery,Formstone)}(function(p,q){function r(b){C.iterate.call(D,v)}function s(){D=p(A.element)}function t(a){a.maxWidth=a.maxWidth===1/0?"100000px":a.maxWidth,a.mq="(min-width:"+a.minWidth+") and (max-width:"+a.maxWidth+")",a.type="height"===a.property?"outerHeight":"outerWidth",a.target?p.isArray(a.target)||(a.target=[a.target]):a.target=["> *"],s(),p.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){x.call(a.$el,a)},leave:function(){w.call(a.$el,a)}})}function u(a){y(a),p.fsMediaquery("unbind",a.rawGuid),s()}function v(g){if(g.data&&(g=g.data),g.enabled){for(var h,i,j,k=0;k<g.target.length;k++){h=0,i=0,j=g.$el.find(g.target[k]),j.css(g.property,"");for(var l=0;l<j.length;l++){i=j.eq(l)[g.type](),i>h&&(h=i)}j.css(g.property,h)}}}function w(b){b.enabled&&(b.enabled=!1,y(b))}function x(c){if(!c.enabled){c.enabled=!0;var d=c.$el.find("img");d.length&&d.on(B.load,c,v),v(c)}}function y(c){for(var d=0;d<c.target.length;d++){c.$el.find(c.target[d]).css(c.property,"")}c.$el.find("img").off(B.namespace)}var z=q.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:t,_destruct:u,_resize:r,resize:v}}),A=z.classes,B=(A.raw,z.events),C=z.functions,D=[]});
/* formstone v1.2.0 [lightbox.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition"],b):b(jQuery,Formstone)}(function(ad,ag){function aj(){ao=ag.$body,ar=ad("html, body"),av=ag.window.location.hash.replace("#","")}function am(){aB&&aC()}function ap(c){this.on(ac.click,c,az);var d=this.data(a7+"-gallery");!ay&&av&&d===av&&(ay=!0,this.trigger(ac.click))}function at(b){aE(),this.off(ac.namespace)}function aw(a,d){a instanceof ad&&az.apply(ai,[{data:ad.extend(!0,{},{$object:a},a9,d||{})}])}function az(a){if(!aB){var b=a.data;aB=ad.extend({},{visible:!1,gallery:{active:!1},isMobile:ag.isMobile||b.mobile,isTouch:ag.support.touch,isAnimating:!0,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1},b);var j=b.$el,m=b.$object,o=j&&j[0].href?j[0].href||"":"",r=j&&j[0].hash?j[0].hash||"":"",t=(o.toLowerCase().split(".").pop().split(/\#|\?/),j?j.data(a7+"-type"):""),A="image"===t||o.match(b.fileTypes)||"data:image"===o.substr(0,10),B=a1(o),C="url"===t||!A&&!B&&"http"===o.substr(0,4)&&!r,D="element"===t||!A&&!B&&!C&&"#"===r.substr(0,1),E="undefined"!=typeof m;if(D&&(o=r),!(A||B||C||D||E)){return void (aB=null)}if(af.killEvent(a),aB.touch=b.touch&&aB.isMobile&&aB.isTouch,aB.margin*=2,A?aB.type="image":B?aB.type="video":aB.type="element",A||B){var F=j.data(a7+"-gallery");F&&(aB.gallery.active=!0,aB.gallery.id=F,aB.gallery.$items=ad("a[data-lightbox-gallery= "+aB.gallery.id+"], a[rel= "+aB.gallery.id+"]"),aB.gallery.index=aB.gallery.$items.index(aB.$el),aB.gallery.total=aB.gallery.$items.length-1)}aB.thumbnails&&(A||B)&&aB.gallery.active||(aB.thumbnails=!1);var G="";aB.isMobile||(G+='<div class="'+[ab.overlay,aB.theme,aB.customClass].join(" ")+'"></div>');var H=[ab.base,ab.loading,ab.animating,aB.theme,aB.customClass];if(aB.fixed&&H.push(ab.fixed),aB.isMobile&&H.push(ab.mobile),aB.isTouch&&H.push(ab.touch),C&&H.push(ab.iframed),(D||E)&&H.push(ab.inline),aB.thumbnails&&H.push(ab.thumbnailed),G+='<div class="'+H.join(" ")+'" role="dialog" aria-label="lightbox" tabindex="-1">',G+='<button type="button" class="'+ab.close+'">'+aB.labels.close+"</button>",G+='<span class="'+ab.loading_icon+'"></span>',G+='<div class="'+ab.container+'">',aB.gallery.active&&aB.thumbnails){G+='<div class="'+[ab.thumbnails]+'">',G+='<div class="'+[ab.thumbnail_container]+'">';for(var I,J,K=0,L=aB.gallery.$items.length;L>K;K++){I=aB.gallery.$items.eq(K),J=I.data("lightbox-thumbnail"),J||(J=I.find("img").attr("src")),G+='<button class="'+[ab.thumbnail_item]+'">',G+='<img src="'+J+'" alt="">',G+="</button>"}G+="</div></div>"}G+='<div class="'+ab.content+'"></div>',(A||B)&&(G+='<div class="'+ab.tools+'">',G+='<div class="'+ab.controls+'">',aB.gallery.active&&(G+='<button type="button" class="'+[ab.control,ab.control_previous].join(" ")+'">'+aB.labels.previous+"</button>",G+='<button type="button" class="'+[ab.control,ab.control_next].join(" ")+'">'+aB.labels.next+"</button>"),aB.isMobile&&aB.isTouch&&(G+='<button type="button" class="'+[ab.toggle,ab.caption_toggle].join(" ")+'">'+aB.labels.captionClosed+"</button>",aB.gallery.active&&aB.thumbnails&&(G+='<button type="button" class="'+[ab.toggle,ab.thumbnail_toggle].join(" ")+'">'+aB.labels.thumbnailsClosed+"</button>")),G+="</div>",G+='<div class="'+ab.meta+'">',G+='<div class="'+ab.meta_content+'">',aB.gallery.active&&(G+='<p class="'+ab.position+'"',aB.gallery.total<1&&(G+=' style="display: none;"'),G+=">",G+='<span class="'+ab.position_current+'">'+(aB.gallery.index+1)+"</span> ",G+=aB.labels.count,G+=' <span class="'+ab.position_total+'">'+(aB.gallery.total+1)+"</span>",G+="</p>"),G+='<div class="'+ab.caption+'">',G+=aB.formatter.call(j,b),G+="</div></div></div>",G+="</div>"),G+="</div></div>",ao.append(G),aB.$overlay=ad(bc.overlay),aB.$lightbox=ad(bc.base),aB.$close=ad(bc.close),aB.$container=ad(bc.container),aB.$content=ad(bc.content),aB.$tools=ad(bc.tools),aB.$meta=ad(bc.meta),aB.$metaContent=ad(bc.meta_content),aB.$position=ad(bc.position),aB.$caption=ad(bc.caption),aB.$controlBox=ad(bc.controls),aB.$controls=ad(bc.control),aB.$thumbnails=ad(bc.thumbnails),aB.$thumbnailContainer=ad(bc.thumbnail_container),aB.$thumbnailItems=ad(bc.thumbnail_item),aB.isMobile?(aB.paddingVertical=aB.$close.outerHeight(),aB.paddingHorizontal=0,aB.mobilePaddingVertical=parseInt(aB.$content.css("paddingTop"),10)+parseInt(aB.$content.css("paddingBottom"),10),aB.mobilePaddingHorizontal=parseInt(aB.$content.css("paddingLeft"),10)+parseInt(aB.$content.css("paddingRight"),10)):(aB.paddingVertical=parseInt(aB.$lightbox.css("paddingTop"),10)+parseInt(aB.$lightbox.css("paddingBottom"),10),aB.paddingHorizontal=parseInt(aB.$lightbox.css("paddingLeft"),10)+parseInt(aB.$lightbox.css("paddingRight"),10),aB.mobilePaddingVertical=0,aB.mobilePaddingHorizontal=0),aB.contentHeight=aB.$lightbox.outerHeight()-aB.paddingVertical,aB.contentWidth=aB.$lightbox.outerWidth()-aB.paddingHorizontal,aB.controlHeight=aB.$controls.outerHeight(),aK(),aB.gallery.active&&(aB.$lightbox.addClass(ab.has_controls),aJ()),al.on(ac.keyDown,aL),ao.on(ac.click,[bc.overlay,bc.close].join(", "),aE).on([ac.focus,ac.focusIn].join(" "),a3),aB.gallery.active&&aB.$lightbox.on(ac.click,bc.control,ax),aB.thumbnails&&aB.$lightbox.on(ac.click,bc.thumbnail_item,aA),aB.isMobile&&aB.isTouch&&aB.$lightbox.on(ac.click,bc.caption_toggle,aO).on(ac.click,bc.thumbnail_toggle,aU),aB.$lightbox.fsTransition({property:"opacity"},function(){A?aY(o):B?an(o):C?aR(o):D?aN(o):E&&aT(aB.$object)}).addClass(ab.open),aB.$overlay.addClass(ab.open)}}function aC(b){"object"!=typeof b&&(aB.targetHeight=arguments[0],aB.targetWidth=arguments[1]),"element"===aB.type?aV(aB.$content.find("> :first-child")):"image"===aB.type?bb():"video"===aB.type&&aq(),aI()}function aE(b){af.killEvent(b),aB&&(aB.$lightbox.fsTransition("destroy"),aB.$content.fsTransition("destroy"),a0(),aB.$lightbox.addClass(ab.animating).fsTransition({property:"opacity"},function(c){"undefined"!=typeof aB.$inlineTarget&&aB.$inlineTarget.length&&aP(),aB.$lightbox.off(ac.namespace),aB.$container.off(ac.namespace),al.off(ac.keyDown),ao.off(ac.namespace),ao.off(ac.namespace),aB.$overlay.remove(),aB.$lightbox.remove(),aB.$el.focus(),aB=null,al.trigger(ac.close)}),aB.$lightbox.removeClass(ab.open),aB.$overlay.removeClass(ab.open),aB.isMobile&&ar.removeClass(ab.lock))}function aG(){var c=aM();aB.isMobile?0:aB.duration;aB.isMobile||aB.$controls.css({marginTop:(aB.contentHeight-aB.controlHeight-aB.metaHeight+aB.thumbnailHeight)/2}),""===aB.$caption.html()?(aB.$caption.hide(),aB.$lightbox.removeClass(ab.has_caption),aB.gallery.active||aB.$tools.hide()):(aB.$caption.show(),aB.$lightbox.addClass(ab.has_caption)),aB.$lightbox.fsTransition({property:aB.contentHeight!==aB.oldContentHeight?"height":"width"},function(){aB.$content.fsTransition({property:"opacity"},function(){aB.$lightbox.removeClass(ab.animating),aB.isAnimating=!1}),aB.$lightbox.removeClass(ab.loading).addClass(ab.ready),aB.visible=!0,al.trigger(ac.open),aB.gallery.active&&(au(),aD(),aF()),aB.$lightbox.focus()}),aB.isMobile||aB.$lightbox.css({height:aB.contentHeight+aB.paddingVertical,width:aB.contentWidth+aB.paddingHorizontal,top:aB.fixed?0:c.top});var d=aB.oldContentHeight!==aB.contentHeight||aB.oldContentWidth!==aB.contentWidth;!aB.isMobile&&d||aB.$lightbox.fsTransition("resolve"),aB.oldContentHeight=aB.contentHeight,aB.oldContentWidth=aB.contentWidth,aB.isMobile&&ar.addClass(ab.lock)}function aI(){if(aB.visible&&!aB.isMobile){var b=aM();aB.$controls.css({marginTop:(aB.contentHeight-aB.controlHeight-aB.metaHeight+aB.thumbnailHeight)/2}),aB.$lightbox.css({height:aB.contentHeight+aB.paddingVertical,width:aB.contentWidth+aB.paddingHorizontal,top:aB.fixed?0:b.top}),aB.oldContentHeight=aB.contentHeight,aB.oldContentWidth=aB.contentWidth}}function aK(){var b=aM();aB.$lightbox.css({top:aB.fixed?0:b.top})}function aM(){if(aB.isMobile){return{left:0,top:0}}var b={left:(ag.windowWidth-aB.contentWidth-aB.paddingHorizontal)/2,top:aB.top<=0?(ag.windowHeight-aB.contentHeight-aB.paddingVertical)/2:aB.top};return aB.fixed!==!0&&(b.top+=al.scrollTop()),b}function aO(c){if(af.killEvent(c),aB.captionOpen){aQ()}else{aW();var d=parseInt(aB.$metaContent.outerHeight(!0));d+=parseInt(aB.$meta.css("padding-top")),d+=parseInt(aB.$meta.css("padding-bottom")),aB.$meta.css({height:d}),aB.$lightbox.addClass(ab.caption_open).find(bc.caption_toggle).text(aB.labels.captionOpen),aB.captionOpen=!0}}function aQ(){aB.$lightbox.removeClass(ab.caption_open).find(bc.caption_toggle).text(aB.labels.captionClosed),aB.captionOpen=!1}function aS(){var c=this.attr("title"),d=void 0!==c&&c?c.replace(/^\s+|\s+$/g,""):!1;return d?'<p class="caption">'+d+"</p>":""}function aU(b){af.killEvent(b),aB.thumbnailsOpen?aW():(aQ(),aB.$lightbox.addClass(ab.thumbnails_open).find(bc.thumbnail_toggle).text(aB.labels.thumbnailsOpen),aB.thumbnailsOpen=!0)}function aW(){aB.$lightbox.removeClass(ab.thumbnails_open).find(bc.thumbnail_toggle).text(aB.labels.thumbnailsClosed),aB.thumbnailsOpen=!1}function aY(a){aB.hasScaled=!1,aB.$imageContainer=ad('<div class="'+ab.image_container+'"><img></div>'),aB.$image=aB.$imageContainer.find("img"),aB.$image.one(ac.load,function(){var b=aZ(aB.$image);aB.naturalHeight=b.naturalHeight,aB.naturalWidth=b.naturalWidth,aB.retina&&(aB.naturalHeight/=2,aB.naturalWidth/=2),aB.$content.prepend(aB.$imageContainer),bb(),aG(),aB.touch&&(a2(),a6({scale:1,deltaX:0,deltaY:0}),a8(),aB.$content.fsTouch({pan:!0,scale:!0}).on(ac.scaleStart,a4).on(ac.scaleEnd,a8).on(ac.scale,a6))}).error(aX).attr("src",a).addClass(ab.image),(aB.$image[0].complete||4===aB.$image[0].readyState)&&aB.$image.trigger(ac.load)}function a0(){aB.$image&&aB.$image.length&&aB.$content.fsTouch("destroy")}function a2(){aB.scalePosition=aB.$imageContainer.position(),aB.scaleY=aB.scalePosition.top,aB.scaleX=aB.scalePosition.left,aB.scaleHeight=aB.$image.outerHeight(),aB.scaleWidth=aB.$image.outerWidth()}function a4(b){a2(),aB.$lightbox.addClass(ab.scaling)}function a6(b){aB.targetContainerY=aB.scaleY+b.deltaY,aB.targetContainerX=aB.scaleX+b.deltaX,aB.targetImageHeight=aB.scaleHeight*b.scale,aB.targetImageWidth=aB.scaleWidth*b.scale,aB.targetImageHeight<aB.scaleMinHeight&&(aB.targetImageHeight=aB.scaleMinHeight),aB.targetImageHeight>aB.scaleMaxHeight&&(aB.targetImageHeight=aB.scaleMaxHeight),aB.targetImageWidth<aB.scaleMinWidth&&(aB.targetImageWidth=aB.scaleMinWidth),aB.targetImageWidth>aB.scaleMaxWidth&&(aB.targetImageWidth=aB.scaleMaxWidth),aB.hasScaled=!0,aB.isScaling=!0,aB.$imageContainer.css({top:aB.targetContainerY,left:aB.targetContainerX}),aB.$image.css({height:aB.targetImageHeight,width:aB.targetImageWidth,top:-(aB.targetImageHeight/2),left:-(aB.targetImageWidth/2)})}function a8(d){a2(),aB.isScaling=!1;var e=aB.$container.outerHeight()-aB.metaHeight,f=aB.$container.outerWidth();aB.scaleMinY=e-aB.scaleHeight/2,aB.scaleMinX=f-aB.scaleWidth/2,aB.scaleMaxY=aB.scaleHeight/2,aB.scaleMaxX=aB.scaleWidth/2,aB.scaleHeight<e?aB.scalePosition.top=e/2:(aB.scalePosition.top<aB.scaleMinY&&(aB.scalePosition.top=aB.scaleMinY),aB.scalePosition.top>aB.scaleMaxY&&(aB.scalePosition.top=aB.scaleMaxY)),aB.scaleWidth<f?aB.scalePosition.left=f/2:(aB.scalePosition.left<aB.scaleMinX&&(aB.scalePosition.left=aB.scaleMinX),aB.scalePosition.left>aB.scaleMaxX&&(aB.scalePosition.left=aB.scaleMaxX)),aB.$lightbox.removeClass(ab.scaling),aB.$imageContainer.css({left:aB.scalePosition.left,top:aB.scalePosition.top})}function bb(){if(aB.$image){var b=0;for(aB.windowHeight=aB.viewportHeight=ag.windowHeight-aB.mobilePaddingVertical-aB.paddingVertical,aB.windowWidth=aB.viewportWidth=ag.windowWidth-aB.mobilePaddingHorizontal-aB.paddingHorizontal,aB.contentHeight=1/0,aB.contentWidth=1/0,aB.imageMarginTop=0,aB.imageMarginLeft=0;aB.contentHeight>aB.viewportHeight&&2>b;){aB.imageHeight=0===b?aB.naturalHeight:aB.$image.outerHeight(),aB.imageWidth=0===b?aB.naturalWidth:aB.$image.outerWidth(),aB.metaHeight=0===b?0:aB.metaHeight,aB.spacerHeight=0===b?0:aB.spacerHeight,aB.thumbnailHeight=0===b?0:aB.thumbnailHeight,0===b&&(aB.ratioHorizontal=aB.imageHeight/aB.imageWidth,aB.ratioVertical=aB.imageWidth/aB.imageHeight,aB.isWide=aB.imageWidth>aB.imageHeight),aB.imageHeight<aB.minHeight&&(aB.minHeight=aB.imageHeight),aB.imageWidth<aB.minWidth&&(aB.minWidth=aB.imageWidth),aB.isMobile?(aB.isTouch?(aB.$controlBox.css({width:ag.windowWidth}),aB.spacerHeight=aB.$controls.outerHeight(!0)):(aB.$tools.css({width:ag.windowWidth}),aB.spacerHeight=aB.$tools.outerHeight(!0)),aB.spacerHeight+=aB.$thumbnails.outerHeight(!0)+10,aB.contentHeight=aB.viewportHeight,aB.contentWidth=aB.viewportWidth,ae(),aB.imageMarginTop=(aB.contentHeight-aB.targetImageHeight-aB.spacerHeight)/2,aB.imageMarginLeft=(aB.contentWidth-aB.targetImageWidth)/2):(0===b&&(aB.viewportHeight-=aB.margin+aB.paddingVertical,aB.viewportWidth-=aB.margin+aB.paddingHorizontal),aB.viewportHeight-=aB.metaHeight,aB.thumbnails&&(aB.viewportHeight-=aB.thumbnailHeight),ae(),aB.contentHeight=aB.targetImageHeight,aB.contentWidth=aB.targetImageWidth),aB.isMobile||aB.isTouch||aB.$meta.css({width:aB.contentWidth}),aB.hasScaled||(aB.$image.css({height:aB.targetImageHeight,width:aB.targetImageWidth}),aB.touch?aB.$image.css({top:-(aB.targetImageHeight/2),left:-(aB.targetImageWidth/2)}):aB.$image.css({marginTop:aB.imageMarginTop,marginLeft:aB.imageMarginLeft})),aB.isMobile||(aB.metaHeight=aB.$meta.outerHeight(!0),aB.contentHeight+=aB.metaHeight),aB.thumbnails&&(aB.thumbnailHeight=aB.$thumbnails.outerHeight(!0),aB.contentHeight+=aB.thumbnailHeight),b++}aB.touch&&(aB.scaleMinHeight=aB.targetImageHeight,aB.scaleMinWidth=aB.targetImageWidth,aB.scaleMaxHeight=aB.naturalHeight,aB.scaleMaxWidth=aB.naturalWidth)}}function ae(){var c=aB.isMobile?aB.contentHeight-aB.spacerHeight:aB.viewportHeight,d=aB.isMobile?aB.contentWidth:aB.viewportWidth;aB.isWide?(aB.targetImageWidth=d,aB.targetImageHeight=aB.targetImageWidth*aB.ratioHorizontal,aB.targetImageHeight>c&&(aB.targetImageHeight=c,aB.targetImageWidth=aB.targetImageHeight*aB.ratioVertical)):(aB.targetImageHeight=c,aB.targetImageWidth=aB.targetImageHeight*aB.ratioVertical,aB.targetImageWidth>d&&(aB.targetImageWidth=d,aB.targetImageHeight=aB.targetImageWidth*aB.ratioHorizontal)),(aB.targetImageWidth>aB.imageWidth||aB.targetImageHeight>aB.imageHeight)&&(aB.targetImageHeight=aB.imageHeight,aB.targetImageWidth=aB.imageWidth),(aB.targetImageWidth<aB.minWidth||aB.targetImageHeight<aB.minHeight)&&(aB.targetImageWidth<aB.minWidth?(aB.targetImageWidth=aB.minWidth,aB.targetImageHeight=aB.targetImageWidth*aB.ratioHorizontal):(aB.targetImageHeight=aB.minHeight,aB.targetImageWidth=aB.targetImageHeight*aB.ratioVertical))}function ah(b){return"//www.youtube.com/embed/"+b[1]}function ak(b){return"//player.vimeo.com/video/"+b[3]}function an(a){var e=a1(a),f=a.split("?");e?(f.length>=2&&(e+="?"+f.slice(1)[0].trim()),aB.$videoWrapper=ad('<div class="'+ab.video_wrapper+'"></div>'),aB.$video=ad('<iframe class="'+ab.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),aB.$video.attr("src",e).addClass(ab.video).prependTo(aB.$videoWrapper),aB.$content.prepend(aB.$videoWrapper),aq(),aG()):aX()}function aq(){aB.windowHeight=aB.viewportHeight=ag.windowHeight-aB.mobilePaddingVertical-aB.paddingVertical,aB.windowWidth=aB.viewportWidth=ag.windowWidth-aB.mobilePaddingHorizontal-aB.paddingHorizontal,aB.videoMarginTop=0,aB.videoMarginLeft=0,aB.isMobile?(aB.isTouch?(aB.$controlBox.css({width:ag.windowWidth}),aB.spacerHeight=aB.$controls.outerHeight(!0)):(aB.$tools.css({width:ag.windowWidth}),aB.spacerHeight=aB.$tools.outerHeight(!0)),aB.spacerHeight=aB.$thumbnails.outerHeight(!0)+10,aB.viewportHeight-=aB.spacerHeight,aB.targetVideoWidth=aB.viewportWidth,aB.targetVideoHeight=aB.targetVideoWidth*aB.videoRatio,aB.targetVideoHeight>aB.viewportHeight&&(aB.targetVideoHeight=aB.viewportHeight,aB.targetVideoWidth=aB.targetVideoHeight/aB.videoRatio),aB.videoMarginTop=(aB.viewportHeight-aB.targetVideoHeight)/2,aB.videoMarginLeft=(aB.viewportWidth-aB.targetVideoWidth)/2):(aB.viewportHeight=aB.windowHeight-aB.margin,aB.viewportWidth=aB.windowWidth-aB.margin,aB.targetVideoWidth=aB.videoWidth>aB.viewportWidth?aB.viewportWidth:aB.videoWidth,aB.targetVideoWidth<aB.minWidth&&(aB.targetVideoWidth=aB.minWidth),aB.targetVideoHeight=aB.targetVideoWidth*aB.videoRatio,aB.contentHeight=aB.targetVideoHeight,aB.contentWidth=aB.targetVideoWidth),aB.isMobile||aB.isTouch||aB.$meta.css({width:aB.contentWidth}),aB.$videoWrapper.css({height:aB.targetVideoHeight,width:aB.targetVideoWidth,marginTop:aB.videoMarginTop,marginLeft:aB.videoMarginLeft}),aB.isMobile||(aB.metaHeight=aB.$meta.outerHeight(!0),aB.contentHeight+=aB.metaHeight),aB.thumbnails&&(aB.thumbnailHeight=aB.$thumbnails.outerHeight(!0),aB.contentHeight+=aB.thumbnailHeight)}function au(a){var d="";aB.gallery.index>0&&(d=aB.gallery.$items.eq(aB.gallery.index-1).attr("href"),a1(d)||ad('<img src="'+d+'">')),aB.gallery.index<aB.gallery.total&&(d=aB.gallery.$items.eq(aB.gallery.index+1).attr("href"),a1(d)||ad('<img src="'+d+'">'))}function ax(a){af.killEvent(a);var d=ad(a.currentTarget);aB.isAnimating||d.hasClass(ab.control_disabled)||(aB.isAnimating=!0,a0(),aQ(),aB.gallery.index+=d.hasClass(ab.control_next)?1:-1,aB.gallery.index>aB.gallery.total&&(aB.gallery.index=aB.infinite?0:aB.gallery.total),aB.gallery.index<0&&(aB.gallery.index=aB.infinite?aB.gallery.total:0),aD(),aB.$lightbox.addClass(ab.animating),aB.$content.fsTransition({property:"opacity"},aH),aB.$lightbox.addClass(ab.loading))}function aA(a){af.killEvent(a);var d=ad(a.currentTarget);aB.isAnimating||d.hasClass(ab.active)||(aB.isAnimating=!0,a0(),aQ(),aB.gallery.index=aB.$thumbnailItems.index(d),aD(),aB.$lightbox.addClass(ab.animating),aB.$content.fsTransition({property:"opacity"},aH),aB.$lightbox.addClass(ab.loading))}function aD(){if(aB.thumbnails){var b=aB.$thumbnailItems.eq(aB.gallery.index);aB.$thumbnailItems.removeClass(ab.active),b.addClass(ab.active)}}function aF(){if(aB.thumbnails){var c=aB.$thumbnailItems.eq(aB.gallery.index),d=c.position().left+c.outerWidth(!1)/2-aB.$thumbnailContainer.outerWidth(!0)/2;aB.$thumbnailContainer.stop().animate({scrollLeft:d},200,"linear")}}function aH(){"undefined"!=typeof aB.$imageContainer&&aB.$imageContainer.remove(),"undefined"!=typeof aB.$videoWrapper&&aB.$videoWrapper.remove(),aB.$el=aB.gallery.$items.eq(aB.gallery.index),aB.$caption.html(aB.formatter.call(aB.$el,aB)),aB.$position.find(bc.position_current).html(aB.gallery.index+1);var c=aB.$el.attr("href"),d=a1(c);d?(aB.type="video",an(c)):(aB.type="image",aY(c)),aJ()}function aJ(){aB.$controls.removeClass(ab.control_disabled),aB.infinite||(0===aB.gallery.index&&aB.$controls.filter(bc.control_previous).addClass(ab.control_disabled),aB.gallery.index===aB.gallery.total&&aB.$controls.filter(bc.control_next).addClass(ab.control_disabled))}function aL(b){!aB.gallery.active||37!==b.keyCode&&39!==b.keyCode?27===b.keyCode&&aB.$close.trigger(ac.click):(af.killEvent(b),aB.$controls.filter(37===b.keyCode?bc.control_previous:bc.control_next).trigger(ac.click))}function aN(a){aB.$inlineTarget=ad(a),aB.$inlineContents=aB.$inlineTarget.children().detach(),aT(aB.$inlineContents)}function aP(){aB.$inlineTarget.append(aB.$inlineContents.detach())}function aR(a){a+=a.indexOf("?")>-1?"&"+aB.requestKey+"=true":"?"+aB.requestKey+"=true";var d=ad('<iframe class="'+ab.iframe+'" src="'+a+'"></iframe>');aT(d)}function aT(b){aB.$content.append(b),aV(b),aG()}function aV(b){aB.windowHeight=ag.windowHeight-aB.mobilePaddingVertical-aB.paddingVertical,aB.windowWidth=ag.windowWidth-aB.mobilePaddingHorizontal-aB.paddingHorizontal,aB.objectHeight=b.outerHeight(!0),aB.objectWidth=b.outerWidth(!0),aB.targetHeight=aB.targetHeight||(aB.$el?aB.$el.data(a7+"-height"):null),aB.targetWidth=aB.targetWidth||(aB.$el?aB.$el.data(a7+"-width"):null),aB.maxHeight=aB.windowHeight<0?aB.minHeight:aB.windowHeight,aB.isIframe=b.is("iframe"),aB.objectMarginTop=0,aB.objectMarginLeft=0,aB.isMobile||(aB.windowHeight-=aB.margin,aB.windowWidth-=aB.margin),aB.contentHeight=aB.targetHeight?aB.targetHeight:aB.isIframe||aB.isMobile?aB.windowHeight:aB.objectHeight,aB.contentWidth=aB.targetWidth?aB.targetWidth:aB.isIframe||aB.isMobile?aB.windowWidth:aB.objectWidth,(aB.isIframe||aB.isObject)&&aB.isMobile?(aB.contentHeight=aB.windowHeight,aB.contentWidth=aB.windowWidth):aB.isObject&&(aB.contentHeight=aB.contentHeight>aB.windowHeight?aB.windowHeight:aB.contentHeight,aB.contentWidth=aB.contentWidth>aB.windowWidth?aB.windowWidth:aB.contentWidth),aB.isMobile||(aB.contentHeight>aB.maxHeight&&(aB.contentHeight=aB.maxHeight),aB.contentWidth>aB.maxWidth&&(aB.contentWidth=aB.maxWidth))}function aX(){var a=ad('<div class="'+ab.error+'"><p>Error Loading Resource</p></div>');aB.type="element",aB.$tools.remove(),aB.$image.off(ac.namespace),aT(a)}function aZ(d){var e=d[0],f=new Image;return"undefined"!=typeof e.naturalHeight?{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth}:"img"===e.tagName.toLowerCase()?(f.src=e.src,{naturalHeight:f.height,naturalWidth:f.width}):!1}function a1(e){var f,g=aB.videoFormatter;for(var h in g){if(g.hasOwnProperty(h)&&(f=e.match(g[h].pattern),null!==f)){return g[h].format.call(aB,f)}}return !1}function a3(a){var d=a.target;ad.contains(aB.$lightbox[0],d)||d===aB.$lightbox[0]||d===aB.$overlay[0]||(af.killEvent(a),aB.$lightbox.focus())}var a5=ag.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:aS,infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails"},margin:50,maxHeight:10000,maxWidth:10000,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,touch:!0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:ah},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:ak}},videoRatio:0.5625,videoWidth:800},classes:["loading","animating","scaling","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_setup:aj,_construct:ap,_destruct:at,_resize:am,resize:aC},utilities:{_initialize:aw,close:aE}}),a7=a5.namespace,a9=a5.defaults,bc=a5.classes,ab=bc.raw,ac=a5.events,af=a5.functions,ai=ag.window,al=ag.$window,ao=null,ar=null,av=!1,ay=!1,aB=null});
/* formstone v1.2.0 [mediaquery.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(u,v){function w(a){a=a||{};for(var g in N){N.hasOwnProperty(g)&&(F[g]=a[g]?u.merge(a[g],F[g]):F[g])}F=u.extend(F,a),F.minWidth.sort(J.sortDesc),F.maxWidth.sort(J.sortAsc),F.minHeight.sort(J.sortDesc),F.maxHeight.sort(J.sortAsc);for(var h in N){if(N.hasOwnProperty(h)){M[h]={};for(var i in F[h]){if(F[h].hasOwnProperty(i)){var j=window.matchMedia("("+N[h]+": "+(F[h][i]===1/0?100000:F[h][i])+F.unit+")");j.addListener(A),M[h][F[h][i]]=j}}}}A()}function x(h,i,k){var l=I.matchMedia(i),m=C(l.media);L[m]||(L[m]={mq:l,active:!0,enter:{},leave:{}},L[m].mq.addListener(B));for(var n in k){k.hasOwnProperty(n)&&L[m].hasOwnProperty(n)&&(L[m][n][h]=k[n])}var o=L[m],p=l.matches;p&&o[G.enter].hasOwnProperty(h)?(o[G.enter][h].apply(l),o.active=!0):!p&&o[G.leave].hasOwnProperty(h)&&(o[G.leave][h].apply(l),o.active=!1)}function y(e,f){if(e){if(f){var g=C(f);L[g]&&(L[g].enter[e]&&delete L[g].enter[e],L[g].leave[e]&&delete L[g].leave[e])}else{for(var h in L){L.hasOwnProperty(h)&&(L[h].enter[e]&&delete L[h].enter[e],L[h].leave[e]&&delete L[h].leave[e])}}}}function z(){K={unit:F.unit};for(var b in N){if(N.hasOwnProperty(b)){for(var g in M[b]){if(M[b].hasOwnProperty(g)){var h="Infinity"===g?1/0:parseInt(g,10),i=N[b].indexOf("width")>-1?v.fallbackWidth:v.fallbackHeight,j=b.indexOf("max")>-1;v.support.nativeMatchMedia?M[b][g].matches&&(j?(!K[b]||h<K[b])&&(K[b]=h):(!K[b]||h>K[b])&&(K[b]=h)):j?!K[b]&&h>i&&(K[b]=h):(!K[b]&&0!==K[b]||h>K[b]&&i>h)&&(K[b]=h)}}}}}function A(){z(),H.trigger(G.mqChange,[K])}function B(g){var h=C(g.media),i=L[h],j=g.matches,k=j?G.enter:G.leave;if(i&&(i.active||!i.active&&j)){for(var l in i[k]){i[k].hasOwnProperty(l)&&i[k][l].apply(i.mq)}i.active=!0}}function C(b){return b.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}function D(){return K}var E=v.Plugin("mediaquery",{utilities:{_initialize:w,state:D,bind:x,unbind:y},events:{mqChange:"mqchange"}}),F={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},G=u.extend(E.events,{enter:"enter",leave:"leave"}),H=v.$window,I=H[0],J=E.functions,K=null,L=[],M={},N={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}});
/* modernizr 3.3.1 (Custom Build) | MIT *
* http://modernizr.com/download/?-csstransforms-csstransforms3d-opacity-touchevents-setclasses !*/
!function(J,Y,ag){function ad(a,b){return typeof a===b}function ae(){var c,h,l,k,j,g,b;for(var d in M){if(M.hasOwnProperty(d)){if(c=[],h=M[d],h.name&&(c.push(h.name.toLowerCase()),h.options&&h.options.aliases&&h.options.aliases.length)){for(l=0;l<h.options.aliases.length;l++){c.push(h.options.aliases[l].toLowerCase())}}for(k=ad(h.fn,"function")?h.fn():h.fn,j=0;j<c.length;j++){g=c[j],b=g.split("."),1===b.length?X[b[0]]=k:(!X[b[0]]||X[b[0]] instanceof Boolean||(X[b[0]]=new Boolean(X[b[0]])),X[b[0]][b[1]]=k),ak.push((k?"":"no-")+b.join("-"))}}}}function aa(a){var b=al.className,d=X._config.classPrefix||"";if(af&&(b=b.baseVal),X._config.enableJSClass){var c=new RegExp("(^|\\s)"+d+"no-js(\\s|$)");b=b.replace(c,"$1"+d+"js$2")}X._config.enableClasses&&(b+=" "+d+a.join(" "+d),af?al.className.baseVal=b:al.className=b)}function Q(){return"function"!=typeof Y.createElement?Y.createElement(arguments[0]):af?Y.createElementNS.call(Y,"http://www.w3.org/2000/svg",arguments[0]):Y.createElement.apply(Y,arguments)}function B(){var a=Y.body;return a||(a=Q(af?"svg":"body"),a.fake=!0),a}function L(g,v,m,n){var j,h,w,i,k="modernizr",b=Q("div"),a=B();if(parseInt(m,10)){for(;m--;){w=Q("div"),w.id=n?n[m]:k+(m+1),b.appendChild(w)}}return j=Q("style"),j.type="text/css",j.id="s"+k,(a.fake?a:b).appendChild(j),a.appendChild(b),j.styleSheet?j.styleSheet.cssText=g:j.appendChild(Y.createTextNode(g)),b.id=k,a.fake&&(a.style.background="",a.style.overflow="hidden",i=al.style.overflow,al.style.overflow="hidden",al.appendChild(a)),h=v(b,g),a.fake?(a.parentNode.removeChild(a),al.style.overflow=i,al.offsetHeight):b.parentNode.removeChild(b),!!h}function ai(a,b){return !!~(""+a).indexOf(b)}function V(a){return a.replace(/([A-Z])/g,function(b,c){return"-"+c.toLowerCase()}).replace(/^ms-/,"-ms-")}function ab(a,c){var d=a.length;if("CSS" in J&&"supports" in J.CSS){for(;d--;){if(J.CSS.supports(V(a[d]),c)){return !0}}return !1}if("CSSSupportsRule" in J){for(var b=[];d--;){b.push("("+V(a[d])+":"+c+")")}return b=b.join(" or "),L("@supports ("+b+") { #modernizr { position: absolute; } }",function(f){return"absolute"==getComputedStyle(f,null).position})}return ag}function I(a){return a.replace(/([a-z])-([a-z])/g,function(b,c,d){return c+d.toUpperCase()}).replace(/^-/,"")}function G(i,u,x,w){function b(){r&&(delete R.style,delete R.modElem)}if(w=ad(w,"undefined")?!1:w,!ad(x,"undefined")){var j=ab(i,x);if(!ad(j,"undefined")){return j}}for(var r,d,t,p,z,A=["modernizr","tspan"];!R.style;){r=!0,R.modElem=Q(A.shift()),R.style=R.modElem.style}for(t=i.length,d=0;t>d;d++){if(p=i[d],z=R.style[p],ai(p,"-")&&(p=I(p)),R.style[p]!==ag){if(w||ad(x,"undefined")){return b(),"pfx"==u?p:!0}try{R.style[p]=x}catch(k){}if(R.style[p]!=z){return b(),"pfx"==u?p:!0}}}return b(),!1}function W(a,b){return function(){return a.apply(b,arguments)}}function O(a,b,f){var d;for(var c in a){if(a[c] in b){return f===!1?a[c]:(d=b[a[c]],ad(d,"function")?W(d,f||b):d)}}return !1}function aj(c,f,j,h,g){var d=c.charAt(0).toUpperCase()+c.slice(1),b=(c+" "+an.join(d+" ")+d).split(" ");return ad(f,"string")||ad(f,"undefined")?G(b,f,h,g):(b=(c+" "+K.join(d+" ")+d).split(" "),O(b,f,j))}function am(a,b,c){return aj(a,ag,ag,b,c)}var M=[],H={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){M.push({name:a,fn:b,options:c})},addAsyncTest:function(a){M.push({name:null,fn:a})}},X=function(){};X.prototype=H,X=new X;var ak=[],al=Y.documentElement,af="svg"===al.nodeName.toLowerCase(),q=H._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];H._prefixes=q;var F=H.testStyles=L;X.addTest("touchevents",function(){var b;if("ontouchstart" in J||J.DocumentTouch&&Y instanceof DocumentTouch){b=!0}else{var a=["@media (",q.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");F(a,function(c){b=9===c.offsetTop})}return b});var ah="Moz O ms Webkit",an=H._config.usePrefixes?ah.split(" "):[];H._cssomPrefixes=an;var ac={elem:Q("modernizr")};X._q.push(function(){delete ac.elem});var R={style:ac.elem.style};X._q.unshift(function(){delete R.style});var K=H._config.usePrefixes?ah.toLowerCase().split(" "):[];H._domPrefixes=K,H.testAllProps=aj,H.testAllProps=am,X.addTest("csstransforms",function(){return -1===navigator.userAgent.indexOf("Android 2.")&&am("transform","scale(1)",!0)});var U="CSS" in J&&"supports" in J.CSS,Z="supportsCSS" in J;X.addTest("supports",U||Z),X.addTest("csstransforms3d",function(){var a=!!am("perspective","1px",!0),b=X._config.usePrefixes;if(a&&(!b||"webkitPerspective" in al.style)){var d,c="#modernizr{width:0;height:0}";X.supports?d="@supports (perspective: 1px)":(d="@media (transform-3d)",b&&(d+=",(-webkit-transform-3d)")),d+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",F(c+d,function(e){a=7===e.offsetWidth&&18===e.offsetHeight})}return a}),X.addTest("opacity",function(){var a=Q("a").style;return a.cssText=q.join("opacity:.55;"),/^0.55$/.test(a.opacity)}),ae(),aa(ak),delete H.addTest,delete H.addAsyncTest;for(var D=0;D<X._q.length;D++){X._q[D]()}J.Modernizr=X}(window,document);
/* formstone v1.2.0 [navigation.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],b):b(jQuery,Formstone)}(function(B,D){function E(){C=B("html, body")}function F(a){a.handleGuid=Z.handle+a.guid,a.isToggle="toggle"===a.type,a.open=!1,a.isToggle&&(a.gravity="");var g=Z.base,h=[g,a.type].join("-"),i=a.gravity?[h,a.gravity].join("-"):"",j=[a.rawGuid,a.theme,a.customClass].join(" ");a.handle=this.data(X+"-handle"),a.content=this.data(X+"-content"),a.handleClasses=[Z.handle,Z.handle.replace(g,h),i?Z.handle.replace(g,i):"",a.handleGuid,j].join(" "),a.thisClasses=[Z.nav.replace(g,h),i?Z.nav.replace(g,i):"",j],a.contentClasses=[Z.content.replace(g,h),j].join(" "),a.contentClassesOpen=[i?Z.content.replace(g,i):"",Z.open].join(" "),a.$nav=this.addClass(a.thisClasses.join(" ")).attr("role","navigation"),a.$handle=B(a.handle).addClass(a.handleClasses),a.$content=B(a.content).addClass(a.contentClasses),a.$animate=B().add(a.$nav).add(a.$content),U(a),a.navTabIndex=a.$nav.attr("tabindex"),a.$nav.attr("tabindex",-1),a.id=this.attr("id"),a.id?a.ariaId=a.id:(a.ariaId=a.rawGuid,this.attr("id",a.ariaId)),a.$handle.attr("data-swap-target",a.dotGuid).attr("data-swap-linked",a.handleGuid).attr("data-swap-group",Z.base).attr("tabindex",0).on("activate.swap"+a.dotGuid,a,O).on("deactivate.swap"+a.dotGuid,a,P).on("enable.swap"+a.dotGuid,a,Q).on("disable.swap"+a.dotGuid,a,R).on(aa.focus+a.dotGuid,a,L).on(aa.blur+a.dotGuid,a,M).fsSwap({maxWidth:a.maxWidth,classes:{target:a.dotGuid,enabled:Y.enabled,active:Y.open,raw:{target:a.rawGuid,enabled:Z.enabled,active:Z.open}}}),a.$handle.is("a, button")||a.$handle.on(aa.keyPress+a.dotGuid,a,N)}function G(b){b.$content.removeClass([b.contentClasses,b.contentClassesOpen].join(" ")).off(aa.namespace),b.$handle.removeAttr("aria-controls").removeAttr("aria-expanded").removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeAttr("data-swap-group").removeData("swap-linked").removeData("tabindex").removeClass(b.handleClasses).off(b.dotGuid).html(b.originalLabel).fsSwap("destroy"),b.$nav.attr("tabindex",b.navTabIndex),V(b),T(b),this.removeAttr("aria-hidden").removeClass(b.thisClasses.join(" ")).off(aa.namespace),this.attr("id")===b.rawGuid&&this.removeAttr("id")}function H(b){b.$handle.fsSwap("activate")}function I(b){b.$handle.fsSwap("deactivate")}function J(b){b.$handle.fsSwap("enable")}function K(b){b.$handle.fsSwap("disable")}function L(b){b.data.$handle.addClass(Z.focus)}function M(b){b.data.$handle.removeClass(Z.focus)}function N(c){var d=c.data;13!==c.keyCode&&32!==c.keyCode||(ab.killEvent(c),d.$handle.trigger(aa.raw.click))}function O(c){if(!c.originalEvent){var d=c.data;d.open||(d.$el.trigger(aa.open).attr("aria-hidden",!1),d.$content.addClass(d.contentClassesOpen).one(aa.click,function(){I(d)}),d.$handle.attr("aria-expanded",!0),d.label&&d.$handle.html(d.labels.open),S(d),d.open=!0,d.$nav.focus())}}function P(c){if(!c.originalEvent){var d=c.data;d.open&&(d.$el.trigger(aa.close).attr("aria-hidden",!0),d.$content.removeClass(d.contentClassesOpen).off(aa.namespace),d.$handle.attr("aria-expanded",!1),d.label&&d.$handle.html(d.labels.closed),T(d),d.open=!1,d.$el.focus())}}function Q(c){var d=c.data;d.$el.attr("aria-hidden",!0),d.$handle.attr("aria-controls",d.ariaId).attr("aria-expanded",!1),d.$content.addClass(Z.enabled),setTimeout(function(){d.$animate.addClass(Z.animated)},0),d.label&&d.$handle.html(d.labels.closed)}function R(c){var d=c.data;d.$el.removeAttr("aria-hidden"),d.$handle.removeAttr("aria-controls").removeAttr("aria-expanded"),d.$content.removeClass(Z.enabled,Z.animated),d.$animate.removeClass(Z.animated),V(d),T(d)}function S(b){b.isToggle||C.addClass(Z.lock)}function T(b){b.isToggle||C.removeClass(Z.lock)}function U(d){if(d.label){if(d.$handle.length>1){d.originalLabel=[];for(var e=0,f=d.$handle.length;f>e;e++){d.originalLabel[e]=d.$handle.eq(e).html()}}else{d.originalLabel=d.$handle.html()}}}function V(d){if(d.label){if(d.$handle.length>1){for(var e=0,f=d.$handle.length;f>e;e++){d.$handle.eq(e).html(d.originalLabel[e])}}else{d.$handle.html(d.originalLabel)}}}var W=D.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",theme:"fs-light",type:"toggle"},classes:["handle","nav","content","animated","enabled","focus","open","toggle","push","reveal","overlay","left","right","lock"],events:{open:"open",close:"close"},methods:{_setup:E,_construct:F,_destruct:G,open:H,close:I,enable:J,disable:K}}),X=W.namespace,Y=W.classes,Z=Y.raw,aa=W.events,ab=W.functions,C=null});
/* formstone v1.2.0 [number.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(w,x){function y(){R=x.$body}function z(e){var f=parseFloat(this.attr("min")),g=parseFloat(this.attr("max"));e.min=f||0===f?f:!1,e.max=g||0===g?g:!1,e.step=parseFloat(this.attr("step"))||1,e.timer=null,e.digits=K(e.step),e.disabled=this.is(":disabled")||this.is("[readonly]");var h="";h+='<button type="button" class="'+[O.arrow,O.up].join(" ")+'" aria-hidden="true" tabindex="-1">'+e.labels.up+"</button>",h+='<button type="button" class="'+[O.arrow,O.down].join(" ")+'" aria-hidden="true" tabindex="-1">'+e.labels.down+"</button>",this.wrap('<div class="'+[O.base,e.theme,e.customClass,e.disabled?O.disabled:""].join(" ")+'"></div>').after(h),e.$container=this.parent(N.base),e.$arrows=e.$container.find(N.arrow),this.on(P.focus,e,E).on(P.blur,e,F).on(P.keyPress,e,G),e.$container.on([P.touchStart,P.mouseDown].join(" "),N.arrow,e,H),J(e,0)}function A(b){b.$arrows.remove(),this.unwrap().off(P.namespace)}function B(b){b.disabled&&(this.prop("disabled",!1),b.$container.removeClass(O.disabled),b.disabled=!1)}function C(b){b.disabled||(this.prop("disabled",!0),b.$container.addClass(O.disabled),b.disabled=!0)}function D(d){var e=parseFloat(d.$el.attr("min")),f=parseFloat(d.$el.attr("max"));d.min=e||0===e?e:!1,d.max=f||0===f?f:!1,d.step=parseFloat(d.$el.attr("step"))||1,d.timer=null,d.digits=K(d.step),d.disabled=d.$el.is(":disabled")||d.$el.is("[readonly]"),J(d,0)}function E(b){b.data.$container.addClass(O.focus)}function F(b){J(b.data,0),b.data.$container.removeClass(O.focus)}function G(c){var d=c.data;38!==c.keyCode&&40!==c.keyCode||(c.preventDefault(),J(d,38===c.keyCode?d.step:-d.step))}function H(a){Q.killEvent(a),I(a);var e=a.data;if(!e.disabled&&a.which<=1){var f=w(a.target).hasClass(O.up)?e.step:-e.step;e.timer=Q.startTimer(e.timer,300,function(){e.timer=Q.startTimer(e.timer,125,function(){J(e,f,!1)},!0)}),J(e,f),R.on([P.touchEnd,P.mouseUp].join(" "),e,I)}}function I(c){Q.killEvent(c);var d=c.data;Q.clearTimer(d.timer,!0),R.off(P.namespace)}function J(a,g){var h=parseFloat(a.$el.val()),i=g;"undefined"===w.type(h)||isNaN(h)?i=a.min!==!1?a.min:0:a.min!==!1&&h<a.min?i=a.min:i+=h;var j=(i-a.min)%a.step;0!==j&&(i-=j),a.min!==!1&&i<a.min&&(i=a.min),a.max!==!1&&i>a.max&&(i=a.max),i!==h&&(i=L(i,a.digits),a.$el.val(i).trigger(P.raw.change,[!0]))}function K(c){var d=String(c);return d.indexOf(".")>-1?d.length-d.indexOf(".")-1:0}function L(d,e){var f=Math.pow(10,e);return Math.round(d*f)/f}var M=x.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"},theme:"fs-light"},classes:["arrow","up","down","disabled","focus"],methods:{_setup:y,_construct:z,_destruct:A,enable:B,disable:C,update:D}}),N=M.classes,O=N.raw,P=M.events,Q=M.functions,R=null});
/* formstone v1.2.0 [pagination.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],b):b(jQuery,Formstone)}(function(p,q){function r(a){a.mq="(max-width:"+(a.maxWidth===1/0?"100000px":a.maxWidth)+")";var e="";e+='<button type="button" class="'+[B.control,B.control_previous].join(" ")+'">'+a.labels.previous+"</button>",e+='<button type="button" class="'+[B.control,B.control_next].join(" ")+'">'+a.labels.next+"</button>",e+='<div class="'+B.position+'" aria-hidden="true">',e+='<span class="'+B.current+'">0</span>',e+=" "+a.labels.count+" ",e+='<span class="'+B.total+'">0</span>',e+="</div>",e+='<select class="'+B.select+'" tabindex="-1" aria-hidden="true"></select>',a.thisClasses=[B.base,a.theme,a.customClass],this.addClass(a.thisClasses.join(" ")).wrapInner('<div class="'+B.pages+'" aria-label="pagination"></div>').prepend(e),a.$controls=this.find(A.control),a.$pages=this.find(A.pages),a.$items=a.$pages.children().addClass(B.page),a.$position=this.find(A.position),a.$select=this.find(A.select),a.index=-1,a.total=a.$items.length-1;var f=a.$items.index(a.$items.filter("[data-"+z.namespace+"-active]"));f||(f=a.$items.index(a.$items.filter(A.active))),a.$items.eq(0).addClass(B.first).after('<span class="'+B.ellipsis+'">&hellip;</span>').end().eq(a.total).addClass(B.last).before('<span class="'+B.ellipsis+'">&hellip;</span>'),a.$ellipsis=a.$pages.find(A.ellipsis),y(a),this.on(C.click,A.page,a,v).on(C.click,A.control,a,t).on(C.click,A.position,a,w).on(C.change,A.select,a,u),p.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){a.$el.addClass(B.mobile)},leave:function(){a.$el.removeClass(B.mobile)}}),x(a,f)}function s(a){p.fsMediaquery("unbind",a.rawGuid),a.$controls.remove(),a.$ellipsis.remove(),a.$select.remove(),a.$position.remove(),a.$items.removeClass([B.page,B.active,B.visible,B.first,B.last].join(" ")).unwrap(),this.removeClass(a.thisClasses.join(" ")).off(C.namespace)}function t(a){D.killEvent(a);var e=a.data,f=e.index+(p(a.currentTarget).hasClass(B.control_previous)?-1:1);f>=0&&e.$items.eq(f).trigger(C.raw.click)}function u(a){D.killEvent(a);var f=a.data,g=p(a.currentTarget),h=parseInt(g.val(),10);f.$items.eq(h).trigger(C.raw.click)}function v(a){var e=a.data,f=e.$items.index(p(a.currentTarget));e.ajax&&D.killEvent(a),x(e,f)}function w(b){D.killEvent(b);var f=b.data;if(q.isMobile&&!q.isFirefoxMobile){var g=f.$select[0];if(window.document.createEvent){var h=window.document.createEvent("MouseEvents");h.initMouseEvent("mousedown",!1,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),g.dispatchEvent(h)}else{g.fireEvent&&g.fireEvent("onmousedown")}}}function x(e,f){if(0>f&&(f=0),f>e.total&&(f=e.total),f!==e.index){e.index=f;var g=e.index-e.visible,h=e.index+(e.visible+1);0>g&&(g=0),h>e.total&&(h=e.total),e.$items.removeClass(B.visible).removeClass(B.hidden).filter(A.active).removeClass(B.active).end().eq(e.index).addClass(B.active).end().slice(g,h).addClass(B.visible),e.$items.not(A.visible).addClass(B.hidden),e.$position.find(A.current).text(e.index+1).end().find(A.total).text(e.total+1),e.$select.val(e.index),e.$controls.removeClass(B.visible),f>0&&e.$controls.filter(A.control_previous).addClass(B.visible),f<e.total&&e.$controls.filter(A.control_next).addClass(B.visible),e.$ellipsis.removeClass(B.visible),f>e.visible+1&&e.$ellipsis.eq(0).addClass(B.visible),f<e.total-e.visible-1&&e.$ellipsis.eq(1).addClass(B.visible),e.$el.trigger(C.update,[e.index])}}function y(d){for(var e="",f=0;f<=d.total;f++){e+='<option value="'+f+'"',f===d.index&&(e+='selected="selected"'),e+=">Page "+(f+1)+"</option>"}d.$select.html(e)}var z=q.Plugin("pagination",{widget:!0,defaults:{ajax:!1,customClass:"",labels:{count:"of",next:"Next",previous:"Previous"},maxWidth:"740px",theme:"fs-light",visible:2},classes:["pages","page","active","first","last","ellipsis","visible","hidden","control","control_previous","control_next","position","select","mobile","current","total"],events:{update:"update"},methods:{_construct:r,_destruct:s}}),A=z.classes,B=A.raw,C=z.events,D=z.functions});
/* formstone v1.2.0 [range.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./touch"],b):b(jQuery,Formstone)}(function(y,z){function A(b){U.iterate.call(V,H)}function B(){V=y(R.element)}function C(d){d.formatter||(d.formatter=P),d.min=parseFloat(this.attr("min"))||0,d.max=parseFloat(this.attr("max"))||100,d.step=parseFloat(this.attr("step"))||1,d.digits=d.step.toString().length-d.step.toString().indexOf("."),d.value=parseFloat(this.val())||d.min+(d.max-d.min)/2;var g="";d.vertical="vertical"===this.attr("orient")||d.vertical,d.disabled=this.is(":disabled")||this.is("[readonly]"),g+='<div class="'+S.track+'" aria-hidden="true">',d.fill&&(g+='<span class="'+S.fill+'"></span>'),g+='<div class="'+S.handle+'" role="slider">',g+='<span class="'+S.marker+'"></span>',g+="</div>",g+="</div>";var h=[S.base,d.theme,d.customClass,d.vertical?S.vertical:"",d.labels?S.labels:"",d.disabled?S.disabled:""];if(this.addClass(S.element).wrap('<div class="'+h.join(" ")+'"></div>').after(g),d.$container=this.parents(R.base),d.$track=d.$container.find(R.track),d.$fill=d.$container.find(R.fill),d.$handle=d.$container.find(R.handle),d.$output=d.$container.find(R.output),d.labels){var i='<span class="'+[S.label,S.label_max].join(" ")+'">'+d.formatter.call(this,d.labels.max?d.labels.max:d.max)+"</span>",j='<span class="'+[S.label,S.label_min].join(" ")+'">'+d.formatter.call(this,d.labels.max?d.labels.min:d.min)+"</span>";d.$container.prepend(d.vertical?i:j).append(d.vertical?j:i)}d.$labels=d.$container.find(R.label),this.on(T.focus,d,L).on(T.blur,d,M).on(T.change,d,O),d.$container.fsTouch({pan:!0,axis:d.vertical?"y":"x"}).on(T.panStart,d,I).on(T.pan,d,J).on(T.panEnd,d,K),B(),H.call(this,d)}function D(b){b.$container.off(T.namespace).fsTouch("destroy"),b.$track.remove(),b.$labels.remove(),this.unwrap().removeClass(S.element).off(T.namespace),B()}function E(b){b.disabled&&(this.prop("disabled",!1),b.$container.removeClass(S.disabled),b.disabled=!1)}function F(b){b.disabled||(this.prop("disabled",!0),b.$container.addClass(S.disabled),b.disabled=!0)}function G(b){b.min=parseFloat(b.$el.attr("min"))||0,b.max=parseFloat(b.$el.attr("max"))||100,b.step=parseFloat(b.$el.attr("step"))||1,b.digits=b.step.toString().length-b.step.toString().indexOf("."),b.value=parseFloat(this.val())||b.min+(b.max-b.min)/2,b.labels&&(b.$labels.filter(R.label_max).html(b.formatter.call(this,b.labels.max?b.labels.max:b.max)),b.$labels.filter(R.label_min).html(b.formatter.call(this,b.labels.max?b.labels.min:b.min))),H.call(this,b)}function H(c){c.stepCount=(c.max-c.min)/c.step,c.offset=c.$track.offset(),c.vertical?(c.trackHeight=c.$track.outerHeight(),c.handleHeight=c.$handle.outerHeight(),c.increment=c.trackHeight/c.stepCount):(c.trackWidth=c.$track.outerWidth(),c.handleWidth=c.$handle.outerWidth(),c.increment=c.trackWidth/c.stepCount);var d=(c.$el.val()-c.min)/(c.max-c.min);N(c,d,!0)}function I(c){U.killEvent(c);var d=c.data;d.disabled||(J(c),d.$container.addClass(S.focus))}function J(d){U.killEvent();var e=d.data,f=0;e.disabled||(f=e.vertical?1-(d.pageY-e.offset.top)/e.trackHeight:(d.pageX-e.offset.left)/e.trackWidth,N(e,f))}function K(c){U.killEvent(c);var d=c.data;d.disabled||d.$container.removeClass(S.focus)}function L(b){b.data.$container.addClass(S.focus)}function M(b){b.data.$container.removeClass(S.focus)}function N(e,f,g){e.increment>1&&(f=e.vertical?Math.round(f*e.stepCount)*e.increment/e.trackHeight:Math.round(f*e.stepCount)*e.increment/e.trackWidth),0>f&&(f=0),f>1&&(f=1);var h=(e.min-e.max)*f;h=-parseFloat(h.toFixed(e.digits)),e.$fill.css(e.vertical?"height":"width",100*f+"%"),e.$handle.css(e.vertical?"bottom":"left",100*f+"%"),h+=e.min,h!==e.value&&h!==!1&&g!==!0&&(e.$el.val(h).trigger(T.raw.change,[!0]),e.value=h)}function O(e,f){var g=e.data;if(!f&&!g.disabled){var h=(g.$el.val()-g.min)/(g.max-g.min);N(g,h)}}function P(c){var d=c.toString().split(".");return d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d.join(".")}var Q=z.Plugin("range",{widget:!0,defaults:{customClass:"",fill:!1,formatter:!1,labels:{max:!1,min:!1},theme:"fs-light",vertical:!1},classes:["track","handle","fill","marker","labels","label","label_min","label_max","vertical","focus","disabled"],methods:{_construct:C,_destruct:D,_resize:A,enable:E,disable:F,resize:H,update:G}}),R=Q.classes,S=R.raw,T=Q.events,U=Q.functions,V=[]});
/* formstone v1.2.0 [scrollbar.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./touch"],b):b(jQuery,Formstone)}(function(x,y){function z(){N=y.$body}function A(b){S.iterate.call(T,F)}function B(){T=x(P.base)}function C(c){var d="";d+='<div class="'+Q.bar+'">',d+='<div class="'+Q.track+'">',d+='<button type="button" class="'+Q.handle+'" aria-hidden="true" tabindex="-1"></button>',d+="</div></div>",c.paddingRight=parseInt(this.css("padding-right"),10),c.paddingBottom=parseInt(this.css("padding-bottom"),10),c.thisClasses=[Q.base,c.theme,c.customClass,c.horizontal?Q.horizontal:""],this.addClass(c.thisClasses.join(" ")).wrapInner('<div class="'+Q.content+'" tabindex="0"></div>').prepend(d),c.$content=this.find(P.content),c.$bar=this.find(P.bar),c.$track=this.find(P.track),c.$handle=this.find(P.handle),c.trackMargin=parseInt(c.trackMargin,10),c.$content.on(R.scroll,c,G),c.mouseWheel&&c.$content.on("DOMMouseScroll"+R.namespace+" mousewheel"+R.namespace,c,H),c.$track.fsTouch({axis:c.horizontal?"x":"y",pan:!0}).on(R.panStart,c,J).on(R.pan,c,K).on(R.panEnd,c,L),F(c),B()}function D(b){b.$track.fsTouch("destroy"),b.$bar.remove(),b.$content.off(R.namespace).contents().unwrap(),this.removeClass(b.thisClasses.join(" ")).off(R.namespace),this.attr("id")===b.rawGuid&&this.removeAttr("id")}function E(a,i,j){var k=j||a.duration,l={};if("number"!==x.type(i)){var m=x(i);if(m.length>0){var n=m.position();i=a.horizontal?n.left+a.$content.scrollLeft():n.top+a.$content.scrollTop()}else{i="top"===i?0:"bottom"===i?a.horizontal?a.$content[0].scrollWidth:a.$content[0].scrollHeight:a.$content.scrollTop()}}l[a.horizontal?"scrollLeft":"scrollTop"]=i,a.$content.stop().animate(l,k)}function F(i){i.$el.addClass(Q.isSetup);var j={},k={},l={},m=0,n=!0;if(i.horizontal){i.barHeight=i.$content[0].offsetHeight-i.$content[0].clientHeight,i.frameWidth=i.$content.outerWidth(),i.trackWidth=i.frameWidth-2*i.trackMargin,i.scrollWidth=i.$content[0].scrollWidth,i.ratio=i.trackWidth/i.scrollWidth,i.trackRatio=i.trackWidth/i.scrollWidth,i.handleWidth=i.handleSize>0?i.handleSize:i.trackWidth*i.trackRatio,i.scrollRatio=(i.scrollWidth-i.frameWidth)/(i.trackWidth-i.handleWidth),i.handleBounds={left:0,right:i.trackWidth-i.handleWidth},i.$content.css({paddingBottom:i.barHeight+i.paddingBottom});var o=i.$content.scrollLeft();m=o*i.ratio,n=i.scrollWidth<=i.frameWidth,j={width:i.frameWidth},k={width:i.trackWidth,marginLeft:i.trackMargin,marginRight:i.trackMargin},l={width:i.handleWidth}}else{i.barWidth=i.$content[0].offsetWidth-i.$content[0].clientWidth,i.frameHeight=i.$content.outerHeight(),i.trackHeight=i.frameHeight-2*i.trackMargin,i.scrollHeight=i.$content[0].scrollHeight,i.ratio=i.trackHeight/i.scrollHeight,i.trackRatio=i.trackHeight/i.scrollHeight,i.handleHeight=i.handleSize>0?i.handleSize:i.trackHeight*i.trackRatio,i.scrollRatio=(i.scrollHeight-i.frameHeight)/(i.trackHeight-i.handleHeight),i.handleBounds={top:0,bottom:i.trackHeight-i.handleHeight};var p=i.$content.scrollTop();m=p*i.ratio,n=i.scrollHeight<=i.frameHeight,j={height:i.frameHeight},k={height:i.trackHeight,marginBottom:i.trackMargin,marginTop:i.trackMargin},l={height:i.handleHeight}}n?i.$el.removeClass(Q.active):i.$el.addClass(Q.active),i.$bar.css(j),i.$track.css(k),i.$handle.css(l),i.panning=!1,M(i,m),G({data:i}),i.$el.removeClass(Q.setup)}function G(f){S.killEvent(f);var g=f.data,h={};if(!g.panning){if(g.horizontal){var i=g.$content.scrollLeft();0>i&&(i=0),g.handleLeft=i/g.scrollRatio,g.handleLeft>g.handleBounds.right&&(g.handleLeft=g.handleBounds.right),h={left:g.handleLeft}}else{var j=g.$content.scrollTop();0>j&&(j=0),g.handleTop=j/g.scrollRatio,g.handleTop>g.handleBounds.bottom&&(g.handleTop=g.handleBounds.bottom),h={top:g.handleTop}}g.$handle.css(h)}}function H(k){var l,m,n=k.data;if(n.horizontal){var o=n.$content[0].scrollLeft,p=n.$content[0].scrollWidth,q=n.$content.outerWidth();if(l="DOMMouseScroll"===k.type?-40*k.originalEvent.detail:k.originalEvent.wheelDelta,m=l>0?"right":"left","left"===m&&-l>p-q-o){return n.$content.scrollLeft(p),I(k)}if("right"===m&&l>o){return n.$content.scrollLeft(0),I(k)}}else{var r=n.$content[0].scrollTop,s=n.$content[0].scrollHeight,t=n.$content.outerHeight();if(l="DOMMouseScroll"===k.type?-40*k.originalEvent.detail:k.originalEvent.wheelDelta,m=l>0?"up":"down","down"===m&&-l>s-t-r){return n.$content.scrollTop(s),I(k)}if("up"===m&&l>r){return n.$content.scrollTop(0),I(k)}}}function I(b){return S.killEvent(b),b.returnValue=!1,!1}function J(e){var f,g=e.data,h=g.$track.offset();g.panning=!0,f=g.horizontal?g.handleLeft=e.pageX-h.left-g.handleWidth/2:g.handleTop=e.pageY-h.top-g.handleHeight/2,M(g,f)}function K(d){var e,f=d.data;e=f.horizontal?f.handleLeft+d.deltaX:f.handleTop+d.deltaY,M(f,e)}function L(c){var d=c.data;d.panning=!1,d.horizontal?d.handleLeft+=c.deltaX:d.handleTop+=c.deltaY}function M(d,e){var f={};d.horizontal?(e<d.handleBounds.left&&(e=d.handleBounds.left),e>d.handleBounds.right&&(e=d.handleBounds.right),f={left:e},d.$content.scrollLeft(Math.round(e*d.scrollRatio))):(e<d.handleBounds.top&&(e=d.handleBounds.top),e>d.handleBounds.bottom&&(e=d.handleBounds.bottom),f={top:e},d.$content.scrollTop(Math.round(e*d.scrollRatio))),d.$handle.css(f)}var N,O=y.Plugin("scrollbar",{widget:!0,defaults:{customClass:"",duration:0,handleSize:0,horizontal:!1,mouseWheel:!0,theme:"fs-light",trackMargin:0},classes:["content","bar","track","handle","horizontal","setup","active"],methods:{_setup:z,_construct:C,_destruct:D,_resize:A,scroll:E,resize:F}}),P=O.classes,Q=P.raw,R=O.events,S=O.functions,T=(y.$window,[])});
/* formstone v1.2.0 [swap.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],b):b(jQuery,Formstone)}(function(p,q){function r(a){a.enabled=!1,a.active=!1,a.classes=p.extend(!0,{},B,a.classes),a.target=this.data(A+"-target"),a.$target=p(a.target).addClass(a.classes.raw.target),a.mq="(max-width:"+(a.maxWidth===1/0?"100000px":a.maxWidth)+")";var e=this.data(A+"-linked");a.linked=e?"[data-"+A+'-linked="'+e+'"]':!1;var f=this.data(A+"-group");a.group=f?"[data-"+A+'-group="'+f+'"]':!1,a.$swaps=p().add(this).add(a.$target),this.on(C.click+a.dotGuid,a,y)}function s(a){a.collapse||!a.group||p(a.group).filter("[data-"+A+"-active]").length||p(a.group).eq(0).attr("data-"+A+"-active","true"),a.onEnable=this.data(A+"-active")||!1,p.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){w.call(a.$el,a,!0)},leave:function(){x.call(a.$el,a,!0)}})}function t(a){p.fsMediaquery("unbind",a.rawGuid),a.$swaps.removeClass([a.classes.raw.enabled,a.classes.raw.active].join(" ")).off(C.namespace)}function u(a,e){if(a.enabled&&!a.active){a.group&&!e&&p(a.group).not(a.$el).not(a.linked)[z.namespaceClean]("deactivate",!0);var f=a.group?p(a.group).index(a.$el):null;a.$swaps.addClass(a.classes.raw.active),e||a.linked&&p(a.linked).not(a.$el)[z.namespaceClean]("activate",!0),this.trigger(C.activate,[f]),a.active=!0}}function v(a,d){a.enabled&&a.active&&(a.$swaps.removeClass(a.classes.raw.active),d||a.linked&&p(a.linked).not(a.$el)[z.namespaceClean]("deactivate",!0),this.trigger(C.deactivate),a.active=!1)}function w(a,d){a.enabled||(a.enabled=!0,a.$swaps.addClass(a.classes.raw.enabled),d||p(a.linked).not(a.$el)[z.namespaceClean]("enable"),this.trigger(C.enable),a.onEnable?(a.active=!1,u.call(this,a)):(a.active=!0,v.call(this,a)))}function x(a,d){a.enabled&&(a.enabled=!1,a.$swaps.removeClass([a.classes.raw.enabled,a.classes.raw.active].join(" ")),d||p(a.linked).not(a.$el)[z.namespaceClean]("disable"),this.trigger(C.disable))}function y(c){D.killEvent(c);var d=c.data;d.active&&d.collapse?v.call(d.$el,d):u.call(d.$el,d)}var z=q.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:r,_postConstruct:s,_destruct:t,activate:u,deactivate:v,enable:w,disable:x}}),A=z.namespace,B=z.classes,C=z.events,D=z.functions});
/* formstone v1.2.0 [tabs.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],b):b(jQuery,Formstone)}(function(u,v){function w(a){a.mq="(max-width:"+(a.mobileMaxWidth===1/0?"100000px":a.mobileMaxWidth)+")",a.content=this.attr("href"),a.group=this.data(K+"-group"),a.elementClasses=[M.tab,a.rawGuid,a.theme,a.customClass],a.mobileTabClasses=[M.tab,M.tab_mobile,a.rawGuid,a.theme,a.customClass],a.contentClasses=[M.content,a.rawGuid,a.theme,a.customClass],a.$mobileTab=u('<button type="button" class="'+a.mobileTabClasses.join(" ")+'" aria-hidden="true">'+this.text()+"</button>"),a.$content=u(a.content).addClass(a.contentClasses.join(" ")),a.$content.before(a.$mobileTab).attr("role","tabpanel"),this.attr("role","tab"),a.id=this.attr("id"),a.id?a.ariaId=a.id:(a.ariaId=a.rawGuid,this.attr("id",a.ariaId)),a.contentId=a.$content.attr("id"),a.contentGuid=a.rawGuid+"_content",a.contentId?a.ariacontentId=a.contentId:(a.ariaContentId=a.contentGuid,a.$content.attr("id",a.ariaContentId));var b=v.window.location.hash,g=!1,h=!1;b.length&&(g=this.filter("[href*='"+b+"']").length>0,h=a.group&&u("[data-"+K+'-group="'+a.group+'"]').filter("[href*='"+b+"']").length>0),g?this.attr("data-swap-active","true"):h?this.removeAttr("data-swap-active").removeData("data-swap-active"):"true"===this.attr("data-tabs-active")&&this.attr("data-swap-active","true"),this.attr("data-swap-target",a.content).attr("data-swap-group",a.group).addClass(a.elementClasses.join(" ")).on("activate.swap"+a.dotGuid,a,C).on("deactivate.swap"+a.dotGuid,a,D).on("enable.swap"+a.dotGuid,a,E).on("disable.swap"+a.dotGuid,a,F)}function x(a){this.fsSwap({maxWidth:a.maxWidth,classes:{target:a.dotGuid,enabled:L.enabled,active:L.active,raw:{target:a.rawGuid,enabled:M.enabled,active:M.active}},collapse:!1}),a.$mobileTab.on("click"+a.dotGuid,a,G),u.fsMediaquery("bind",a.rawGuid,a.mq,{enter:function(){H.call(a.$el,a)},leave:function(){I.call(a.$el,a)}})}function y(a){u.fsMediaquery("unbind",a.rawGuid),a.$mobileTab.off(N.namespace).remove(),a.elementClasses.push(M.mobile),a.contentClasses.push(M.mobile),a.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("role").removeClass(a.contentClasses.join(" ")),a.$content.attr("id")===a.contentGuid&&a.$content.removeAttr("id"),this.removeAttr("aria-controls").removeAttr("aria-selected").removeAttr("data-swap-active").removeData("data-swap-active").removeAttr("data-swap-target").removeData("data-swap-target").removeAttr("data-swap-group").removeData("data-swap-group").removeAttr("role").removeClass(a.elementClasses.join(" ")).off(N.namespace).fsSwap("destroy"),this.attr("id")===a.rawGuid&&this.removeAttr("id")}function z(b){this.fsSwap("activate")}function A(b){this.fsSwap("enable")}function B(b){this.fsSwap("disable")}function C(d){if(!d.originalEvent){var e=d.data,f=0;e.$el.attr("aria-selected",!0).trigger(N.update,[f]),e.$mobileTab.addClass(M.active),e.$content.attr("aria-hidden",!1).addClass(M.active)}}function D(c){if(!c.originalEvent){var d=c.data;d.$el.attr("aria-selected",!1),d.$mobileTab.removeClass(M.active),d.$content.attr("aria-hidden",!0).removeClass(M.active)}}function E(c){var d=c.data;d.$el.attr("aria-controls",d.ariaContentId),d.$mobileTab.addClass(M.enabled),d.$content.attr("aria-labelledby",d.ariaId).addClass(M.enabled)}function F(c){var d=c.data;d.$el.removeAttr("aria-controls").removeAttr("aria-selected"),d.$mobileTab.removeClass(M.enabled),d.$content.removeAttr("aria-labelledby").removeAttr("aria-hidden").removeClass(M.enabled)}function G(b){b.data.$el.fsSwap("activate")}function H(b){b.$el.addClass(M.mobile),b.$mobileTab.addClass(M.mobile),b.$content.addClass(M.mobile)}function I(b){b.$el.removeClass(M.mobile),b.$mobileTab.removeClass(M.mobile),b.$content.removeClass(M.mobile)}var J=v.Plugin("tabs",{widget:!0,defaults:{customClass:"",maxWidth:1/0,mobileMaxWidth:"740px",theme:"fs-light",vertical:!1},classes:["tab","tab_mobile","mobile","content","enabled","active"],events:{update:"update"},methods:{_construct:w,_postConstruct:x,_destruct:y,activate:z,enable:A,disable:B}}),K=J.namespace,L=J.classes,M=L.raw,N=J.events;J.functions});
/* formstone v1.2.0 [tooltip.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(r,s){function t(b){this.on(F.mouseEnter,b,v)}function u(b){A(),this.off(F.namespace)}function v(c){A();var d=c.data;d.left=c.pageX,d.top=c.pageY,y(d)}function w(c){var d=c.data;G.clearTimer(d.timer),A()}function x(b){z(b.pageX,b.pageY)}function y(f){A();var g="";g+='<div class="',g+=[E.base,E[f.direction],f.theme,f.customClass].join(" "),g+='">',g+='<div class="'+E.content+'">',g+=f.formatter.call(f.$el,f),g+='<span class="'+E.caret+'"></span>',g+="</div>",g+="</div>",H={$tooltip:r(g),$el:f.$el},s.$body.append(H.$tooltip);var i=H.$tooltip.find(D.content),j=H.$tooltip.find(D.caret),m=f.$el.offset(),n=f.$el.outerHeight(),o=f.$el.outerWidth(),p=0,q=0,I=0,J=0,K=!1,L=!1,M=j.outerHeight(!0),N=j.outerWidth(!0),a=i.outerHeight(!0),b=i.outerWidth(!0);"right"===f.direction||"left"===f.direction?(L=(a-M)/2,J=-a/2,"right"===f.direction?I=f.margin:"left"===f.direction&&(I=-(b+f.margin))):(K=(b-N)/2,I=-b/2,"bottom"===f.direction?J=f.margin:"top"===f.direction&&(J=-(a+f.margin))),i.css({top:J,left:I}),j.css({top:L,left:K}),f.follow?f.$el.on(F.mouseMove,f,x):(f.match?"right"===f.direction||"left"===f.direction?(q=f.top,"right"===f.direction?p=m.left+o:"left"===f.direction&&(p=m.left)):(p=f.left,"bottom"===f.direction?q=m.top+n:"top"===f.direction&&(q=m.top)):"right"===f.direction||"left"===f.direction?(q=m.top+n/2,"right"===f.direction?p=m.left+o:"left"===f.direction&&(p=m.left)):(p=m.left+o/2,"bottom"===f.direction?q=m.top+n:"top"===f.direction&&(q=m.top)),z(p,q)),f.timer=G.startTimer(f.timer,f.delay,function(){H.$tooltip.addClass(E.visible)}),f.$el.one(F.mouseLeave,f,w)}function z(c,d){H&&H.$tooltip.css({left:c,top:d})}function A(){H&&(H.$el.off([F.mouseMove,F.mouseLeave].join(" ")),H.$tooltip.remove(),H=null)}function B(b){return this.data("title")}var C=s.Plugin("tooltip",{widget:!0,defaults:{customClass:"",delay:0,direction:"top",follow:!1,formatter:B,margin:15,match:!1,theme:"fs-light"},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:t,_destruct:u}}),D=C.classes,E=D.raw,F=C.events,G=C.functions,H=null});
/* formstone v1.2.0 [touch.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(v,w){function x(b){if(b.touches=[],b.touching=!1,this.on(L.dragStart,M.killEvent),b.swipe&&(b.pan=!0),b.scale&&(b.axis=!1),b.axisX="x"===b.axis,b.axisY="y"===b.axis,w.support.pointer){var d="";!b.axis||b.axisX&&b.axisY?d="none":(b.axisX&&(d+=" pan-y"),b.axisY&&(d+=" pan-x")),I(this,d),this.on(L.pointerDown,b,z)}else{this.on(L.touchStart,b,z).on(L.mouseDown,b,A)}}function y(b){this.off(L.namespace),I(this,"")}function z(f){f.preventManipulation&&f.preventManipulation();var g=f.data,h=f.originalEvent;if(h.type.match(/(up|end|cancel)$/i)){return void E(f)}if(h.pointerId){var i=!1;for(var j in g.touches){g.touches[j].id===h.pointerId&&(i=!0,g.touches[j].pageX=h.pageX,g.touches[j].pageY=h.pageY)}i||g.touches.push({id:h.pointerId,pageX:h.pageX,pageY:h.pageY})}else{g.touches=h.touches}h.type.match(/(down|start)$/i)?A(f):h.type.match(/move$/i)&&B(f)}function A(a){var b=a.data,e="undefined"!==v.type(b.touches)?b.touches[0]:null;b.touching||(b.startE=a.originalEvent,b.startX=e?e.pageX:a.pageX,b.startY=e?e.pageY:a.pageY,b.startT=(new Date).getTime(),b.scaleD=1,b.passed=!1),b.$links&&b.$links.off(L.click);var g=F(b.scale?L.scaleStart:L.panStart,a,b.startX,b.startY,b.scaleD,0,0,"","");if(b.scale&&b.touches&&b.touches.length>=2){var j=b.touches;b.pinch={startX:G(j[0].pageX,j[1].pageX),startY:G(j[0].pageY,j[1].pageY),startD:H(j[1].pageX-j[0].pageX,j[1].pageY-j[0].pageY)},g.pageX=b.startX=b.pinch.startX,g.pageY=b.startY=b.pinch.startY}b.touching||(b.touching=!0,b.pan&&N.on(L.mouseMove,b,B).on(L.mouseUp,b,E),w.support.pointer?N.on([L.pointerMove,L.pointerUp,L.pointerCancel].join(" "),b,z):N.on([L.touchMove,L.touchEnd,L.touchCancel].join(" "),b,z),b.$el.trigger(g))}function B(a){var j=a.data,k="undefined"!==v.type(j.touches)?j.touches[0]:null,l=k?k.pageX:a.pageX,m=k?k.pageY:a.pageY,q=l-j.startX,r=m-j.startY,t=q>0?"right":"left",Q=r>0?"down":"up",R=Math.abs(q)>O,S=Math.abs(r)>O;if(!j.passed&&j.axis&&(j.axisX&&S||j.axisY&&R)){E(a)}else{!j.passed&&(!j.axis||j.axis&&j.axisX&&R||j.axisY&&S)&&(j.passed=!0),j.passed&&(M.killEvent(a),M.killEvent(j.startE));var T=!0,U=F(j.scale?L.scale:L.pan,a,l,m,j.scaleD,q,r,t,Q);if(j.scale){if(j.touches&&j.touches.length>=2){var V=j.touches;j.pinch.endX=G(V[0].pageX,V[1].pageX),j.pinch.endY=G(V[0].pageY,V[1].pageY),j.pinch.endD=H(V[1].pageX-V[0].pageX,V[1].pageY-V[0].pageY),j.scaleD=j.pinch.endD/j.pinch.startD,U.pageX=j.pinch.endX,U.pageY=j.pinch.endY,U.scale=j.scaleD,U.deltaX=j.pinch.endX-j.pinch.startX,U.deltaY=j.pinch.endY-j.pinch.startY}else{j.pan||(T=!1)}}T&&j.$el.trigger(U)}}function C(a,e){a.on(L.click,e,D);var f=v._data(a[0],"events").click;f.unshift(f.pop())}function D(b){M.killEvent(b,!0),b.data.$links.off(L.click)}function E(a){var h=a.data,k="undefined"!==v.type(h.touches)?h.touches[0]:null,q=k?k.pageX:a.pageX,s=k?k.pageY:a.pageY,t=q-h.startX,u=s-h.startY,Q=(new Date).getTime(),R=h.scale?L.scaleEnd:L.panEnd,S=t>0?"right":"left",T=u>0?"down":"up",U=Math.abs(t)>1,V=Math.abs(u)>1;if(h.swipe&&Math.abs(t)>O&&Q-h.startT<P&&(R=L.swipe),h.axis&&(h.axisX&&V||h.axisY&&U)||U||V){h.$links=h.$el.find("a");for(var W=0,X=h.$links.length;X>W;W++){C(h.$links.eq(W),h)}}var Y=F(R,a,q,s,h.scaleD,t,u,S,T);N.off([L.touchMove,L.touchEnd,L.touchCancel,L.mouseMove,L.mouseUp,L.pointerMove,L.pointerUp,L.pointerCancel].join(" ")),h.$el.trigger(Y),h.touches=[],h.scale,h.touching=!1}function F(a,k,l,m,n,o,p,q,r){return v.Event(a,{originalEvent:k,bubbles:!0,pageX:l,pageY:m,scale:n,deltaX:o,deltaY:p,directionX:q,directionY:r})}function G(c,d){return(c+d)/2}function H(c,d){return Math.sqrt(c*c+d*d)}function I(c,d){c.css({"-ms-touch-action":d,"touch-action":d})}var J=!w.window.PointerEvent,K=w.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:x,_destruct:y},events:{pointerDown:J?"MSPointerDown":"pointerdown",pointerUp:J?"MSPointerUp":"pointerup",pointerMove:J?"MSPointerMove":"pointermove",pointerCancel:J?"MSPointerCancel":"pointercancel"}}),L=K.events,M=K.functions,N=w.$window,O=10,P=50;L.pan="pan",L.panStart="panstart",L.panEnd="panend",L.scale="scale",L.scaleStart="scalestart",L.scaleEnd="scaleend",L.swipe="swipe"});
/* formstone v1.2.0 [transition.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(n,o){function p(b,e){if(e){b.$target=this.find(b.target),b.$check=b.target?b.$target:this,b.callback=e,b.styles=u(b.$check),b.timer=null;var g=b.$check.css(o.transition+"-duration"),h=parseFloat(g);o.support.transition&&g&&h?this.on(x.transitionEnd,b,r):b.timer=y.startTimer(b.timer,50,function(){t(b)},!0)}}function q(b){y.clearTimer(b.timer,!0),this.off(x.namespace)}function r(a){a.stopPropagation(),a.preventDefault();var f=a.data,g=a.originalEvent,h=f.target?f.$target:f.$el;f.property&&g.propertyName!==f.property||!n(g.target).is(h)||s(f)}function s(b){b.always||b.$el[w.namespaceClean]("destroy"),b.callback.apply(b.$el)}function t(c){var d=u(c.$check);v(c.styles,d)||s(c),c.styles=d}function u(a){var i,j,k,l={};if(a instanceof n&&(a=a[0]),z.getComputedStyle){i=z.getComputedStyle(a,null);for(var m=0,A=i.length;A>m;m++){j=i[m],k=i.getPropertyValue(j),l[j]=k}}else{if(a.currentStyle){i=a.currentStyle;for(j in i){i[j]&&(l[j]=i[j])}}}return l}function v(a,e){if(n.type(a)!==n.type(e)){return !1}for(var f in a){if(!a.hasOwnProperty(f)){return !1}if(!a.hasOwnProperty(f)||!e.hasOwnProperty(f)||a[f]!==e[f]){return !1}}return !0}var w=o.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:p,_destruct:q,resolve:s}}),x=w.events,y=w.functions,z=o.window});
/* formstone v1.2.0 [upload.js] 2016-07-04 | GPL-3.0 License | formstone.it */
!function(b){"function"==typeof define&&define.amd?define(["jquery","./core"],b):b(jQuery,Formstone)}(function(B,D){function E(b){if(D.support.file){var d="";b.label!==!1&&(d+='<div class="'+Y.target+'">',d+=b.label,d+="</div>"),d+='<input class="'+Y.input+'" type="file"',b.multiple&&(d+=" multiple"),b.accept&&(d+=' accept="'+b.accept+'"'),d+=">",b.baseClasses=[Y.base,b.theme,b.customClass].join(" "),this.addClass(b.baseClasses).append(d),b.$input=this.find(X.input),b.queue=[],b.total=0,b.uploading=!1,b.disabled=!0,b.aborting=!1,this.on(Z.click,X.target,b,K).on(Z.dragEnter,b,O).on(Z.dragOver,b,P).on(Z.dragLeave,b,Q).on(Z.drop,b,R),b.$input.on(Z.focus,b,L).on(Z.blur,b,M).on(Z.change,b,N),J.call(this,b)}}function F(b){D.support.file&&(b.$input.off(Z.namespace),this.off(Z.namespace).removeClass(b.baseClasses).html(""))}function G(a,f){var g;a.aborting=!0;for(var h in a.queue){a.queue.hasOwnProperty(h)&&(g=a.queue[h],("undefined"===B.type(f)||f>=0&&g.index===f)&&(g.started&&!g.complete?g.transfer.abort():H(a,g,"abort")))}a.aborting=!1,U(a)}function H(d,e,f){e.error=!0,d.$el.trigger(Z.fileError,[e,f]),d.aborting||U(d)}function I(b){b.disabled||(this.addClass(Y.disabled),b.$input.prop("disabled",!0),b.disabled=!0)}function J(b){b.disabled&&(this.removeClass(Y.disabled),b.$input.prop("disabled",!1),b.disabled=!1)}function K(c){aa.killEvent(c);var d=c.data;d.disabled||d.$input.trigger(Z.click)}function L(b){b.data.$el.addClass(Y.focus)}function M(b){b.data.$el.removeClass(Y.focus)}function N(d){aa.killEvent(d);var e=d.data,f=e.$input[0].files;!e.disabled&&f.length&&S(e,f)}function O(c){aa.killEvent(c);var d=c.data;d.$el.addClass(Y.dropping).trigger(Z.fileDragEnter)}function P(c){aa.killEvent(c);var d=c.data;d.$el.addClass(Y.dropping).trigger(Z.fileDragOver)}function Q(c){aa.killEvent(c);var d=c.data;d.$el.removeClass(Y.dropping).trigger(Z.fileDragLeave)}function R(d){aa.killEvent(d);var e=d.data,f=d.originalEvent.dataTransfer.files;e.$el.removeClass(Y.dropping),e.disabled||S(e,f)}function S(f,g){for(var h=[],i=0;i<g.length;i++){var j={index:f.total++,file:g[i],name:g[i].name,size:g[i].size,started:!1,complete:!1,error:!1,transfer:null};h.push(j),f.queue.push(j)}f.$el.trigger(Z.queued,[h]),f.autoUpload&&T(f),f.$input.val("")}function T(b){b.uploading||(C.on(Z.beforeUnload,function(){return b.leave}),b.uploading=!0,b.$el.trigger(Z.start,[b.queue])),U(b)}function U(h){var i=0,j=[];for(var k in h.queue){!h.queue.hasOwnProperty(k)||h.queue[k].complete||h.queue[k].error||j.push(h.queue[k])}h.queue=j;for(var l in h.queue){if(h.queue.hasOwnProperty(l)){if(!h.queue[l].started){var m=new FormData;m.append(h.postKey,h.queue[l].file);for(var n in h.postData){h.postData.hasOwnProperty(n)&&m.append(n,h.postData[n])}V(h,m,h.queue[l])}if(i++,i>=h.maxQueue){return}k++}}0===i&&(C.off(Z.beforeUnload),h.uploading=!1,h.$el.trigger(Z.complete))}function V(a,e,f){e=a.beforeSend.call(ab,e,f),f.size>=a.maxSize||e===!1||f.error===!0?H(a,f,e?"size":"abort"):(f.started=!0,f.transfer=B.ajax({url:a.action,data:e,dataType:a.dataType,type:"POST",contentType:!1,processData:!1,cache:!1,xhr:function(){var b=B.ajaxSettings.xhr();return b.upload&&b.upload.addEventListener("progress",function(d){var g=0,h=d.loaded||d.position,i=d.total;d.lengthComputable&&(g=Math.ceil(h/i*100)),a.$el.trigger(Z.fileProgress,[f,g])},!1),b},beforeSend:function(b,d){a.$el.trigger(Z.fileStart,[f])},success:function(b,d,g){f.complete=!0,a.$el.trigger(Z.fileComplete,[f,b]),U(a)},error:function(b,d,g){H(a,f,g)}}))}var W=D.Plugin("upload",{widget:!0,defaults:{accept:!1,action:"",autoUpload:!0,beforeSend:function(b){return b},customClass:"",dataType:"html",label:"Drag and drop files or click to select",leave:"You have uploads pending, are you sure you want to leave this page?",maxQueue:2,maxSize:5242880,multiple:!0,postData:{},postKey:"file",theme:"fs-light"},classes:["input","target","multiple","dropping","disabled","focus"],methods:{_construct:E,_destruct:F,disable:I,enable:J,abort:G,start:T}}),X=W.classes,Y=X.raw,Z=W.events,aa=W.functions,ab=D.window,C=D.$window;Z.complete="complete",Z.fileComplete="filecomplete",Z.fileDragEnter="filedragenter",Z.fileDragLeave="filedragleave",Z.fileDragOver="filedragover",Z.fileError="fileerror",Z.fileProgress="fileprogress",Z.fileStart="filestart",Z.start="start",Z.queued="queued"});
/* formstone v1.3.1 [viewer.js] 2017-01-23 | GPL-3.0 License | formstone.it */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],a):a(jQuery,Formstone)}(function(aA,ag){function aa(){(ar=aE.scrollTop()+ag.windowHeight)<0&&(ar=0)}function aq(){(av=aA(ax.base)).length?az.lockViewport(J):az.unlockViewport(J)}function ao(b,a,c){b.isAnimating||(b.isAnimating=!0,b.$container=aA('<div class="'+ap.container+'"><img></div>'),b.$image=b.$container.find("img"),b.$viewport.append(b.$container),b.$image.one(au.load,function(){aw(b),b.isAnimating=!1,b.$container.fsTransition({property:"opacity"},function(){}),b.$el.removeClass(ap.loading),b.$container.fsTouch({pan:!0,scale:!0}).on(au.scaleStart,b,aB).on(au.scaleEnd,b,an).on(au.scale,b,B),b.$el.trigger(au.loaded)}).one(au.error,b,G).attr("src",a).addClass(ap.image),(b.$image[0].complete||4===b.$image[0].readyState)&&b.$image.trigger(au.load),b.source=a)}function G(a){a.data.$el.trigger(au.error)}function aw(a){ad(a),ay(a),a.containerTop=a.viewportHeight/2,a.containerLeft=a.viewportWidth/2,Q(a),a.imageHeight=a.naturalHeight,a.imageWidth=a.naturalWidth,aC(a),ak(a),am(a),X(a),ae(a),aG(a,{containerTop:a.containerTop,containerLeft:a.containerLeft,imageHeight:a.imageHeight,imageWidth:a.imageWidth,imageTop:a.imageTop,imageLeft:a.imageLeft}),a.isRendering=!0}function ad(b){var a=ab(b.$image);b.naturalHeight=a.naturalHeight,b.naturalWidth=a.naturalWidth,b.ratioHorizontal=b.naturalHeight/b.naturalWidth,b.ratioVertical=b.naturalWidth/b.naturalHeight,b.isWide=b.naturalWidth>b.naturalHeight}function ay(a){a.viewportHeight=a.$viewport.outerHeight(),a.viewportWidth=a.$viewport.outerWidth()}function ak(a){a.imageHeight<=a.viewportHeight?(a.containerMinTop=a.viewportHeight/2,a.containerMaxTop=a.viewportHeight/2):(a.containerMinTop=a.viewportHeight-a.imageHeight/2,a.containerMaxTop=a.imageHeight/2),a.imageWidth<=a.viewportWidth?(a.containerMinLeft=a.viewportWidth/2,a.containerMaxLeft=a.viewportWidth/2):(a.containerMinLeft=a.viewportWidth-a.imageWidth/2,a.containerMaxLeft=a.imageWidth/2)}function Q(a){a.isWide?(a.imageMinWidth=a.viewportWidth,a.imageMinHeight=a.imageMinWidth*a.ratioHorizontal,a.imageMinHeight>a.viewportHeight&&(a.imageMinHeight=a.viewportHeight,a.imageMinWidth=a.imageMinHeight*a.ratioVertical)):(a.imageMinHeight=a.viewportHeight,a.imageMinWidth=a.imageMinHeight*a.ratioVertical,a.imageMinWidth>a.viewportWidth&&(a.imageMinWidth=a.viewportWidth,a.imageMinHeight=a.imageMinWidth*a.ratioHorizontal)),(a.imageMinWidth>a.naturalWidth||a.imageMinHeight>a.naturalHeight)&&(a.imageMinHeight=a.naturalHeight,a.imageMinWidth=a.naturalWidth),a.imageMaxHeight=a.naturalHeight,a.imageMaxWidth=a.naturalWidth}function am(a){a.imageTop=-a.imageHeight/2,a.imageLeft=-a.imageWidth/2}function X(a){a.lastContainerTop=a.containerTop,a.lastContainerLeft=a.containerLeft,a.lastImageHeight=a.imageHeight,a.lastImageWidth=a.imageWidth,a.lastImageTop=a.imageTop,a.lastImageLeft=a.imageLeft}function ae(a){a.renderContainerTop=a.lastContainerTop,a.renderContainerLeft=a.lastContainerLeft,a.renderImageTop=a.lastImageTop,a.renderImageLeft=a.lastImageLeft,a.renderImageHeight=a.lastImageHeight,a.renderImageWidth=a.lastImageWidth}function aC(a){a.imageHeight=a.imageMinHeight,a.imageWidth=a.imageMinWidth}function ac(a){a.imageHeight<a.imageMinHeight&&(a.imageHeight=a.imageMinHeight),a.imageHeight>a.imageMaxHeight&&(a.imageHeight=a.imageMaxHeight),a.imageWidth<a.imageMinWidth&&(a.imageWidth=a.imageMinWidth),a.imageWidth>a.imageMaxWidth&&(a.imageWidth=a.imageMaxWidth)}function at(a){a.containerTop<a.containerMinTop&&(a.containerTop=a.containerMinTop),a.containerTop>a.containerMaxTop&&(a.containerTop=a.containerMaxTop),a.containerLeft<a.containerMinLeft&&(a.containerLeft=a.containerMinLeft),a.containerLeft>a.containerMaxLeft&&(a.containerLeft=a.containerMaxLeft)}function af(a){null===a.tapTimer?a.tapTimer=az.startTimer(a.tapTimer,500,function(){aD(a)}):(aD(a),aF(a))}function aD(a){az.clearTimer(a.tapTimer),a.tapTimer=null}function aG(d,a){if(ag.transform){var c=a.imageWidth/d.naturalWidth,b=a.imageHeight/d.naturalHeight;d.$container.css(ag.transform,"translate3d("+a.containerLeft+"px, "+a.containerTop+"px, 0)"),d.$image.css(ag.transform,"translate3d(-50%, -50%, 0) scale("+c+","+b+")")}else{d.$container.css({top:a.containerTop,left:a.containerLeft}),d.$image.css({height:a.imageHeight,width:a.imageWidth,top:a.imageTop,left:a.imageLeft})}}function aB(b){var a=b.data;af(a),X(a)}function B(b){var a=b.data;aD(a),a.isRendering=!1,a.isZooming=!1;a.imageHeight,a.imageMinHeight;a.containerTop=a.lastContainerTop+b.deltaY,a.containerLeft=a.lastContainerLeft+b.deltaX,a.imageHeight=a.lastImageHeight*b.scale,a.imageWidth=a.lastImageWidth*b.scale,ak(a),at(a),ac(a),am(a),aG(a,{containerTop:a.containerTop,containerLeft:a.containerLeft,imageHeight:a.imageHeight,imageWidth:a.imageWidth,imageTop:a.imageTop,imageLeft:a.imageLeft})}function an(b){var a=b.data;a.isZooming||(X(a),ae(a),a.isRendering=!0)}function aF(b){var a=b.imageHeight>b.imageMinHeight+1;b.isZooming=!0,X(b),ae(b),a?(b.imageHeight=b.imageMinHeight,b.imageWidth=b.imageMinWidth):(b.imageHeight=b.imageMaxHeight,b.imageWidth=b.imageMaxWidth),ak(b),at(b),am(b),b.isRendering=!0}function F(b){az.killEvent(b);var a=aA(b.currentTarget),c=b.data;"out"===(a.hasClass(ap.control_zoom_out)?"out":"in")?aH(c):U(c)}function U(a){a.keyDownTime=1,a.action="zoom_in"}function aH(a){a.keyDownTime=1,a.action="zoom_out"}function al(a){a.data.action=!1}function aJ(b){if(b.isRendering){if(b.action){b.keyDownTime+=b.zoomIncrement;var a=("zoom_out"===b.action?-1:1)*Math.round(b.imageWidth*b.keyDownTime-b.imageWidth);a>b.zoomDelta&&(a=b.zoomDelta),b.isWide?(b.imageWidth+=a,b.imageHeight=Math.round(b.imageWidth/b.ratioVertical)):(b.imageHeight+=a,b.imageWidth=Math.round(b.imageHeight/b.ratioHorizontal)),ac(b),am(b),ak(b),at(b)}b.renderContainerTop+=Math.round((b.containerTop-b.renderContainerTop)*b.zoomEnertia),b.renderContainerLeft+=Math.round((b.containerLeft-b.renderContainerLeft)*b.zoomEnertia),b.renderImageTop+=Math.round((b.imageTop-b.renderImageTop)*b.zoomEnertia),b.renderImageLeft+=Math.round((b.imageLeft-b.renderImageLeft)*b.zoomEnertia),b.renderImageHeight+=Math.round((b.imageHeight-b.renderImageHeight)*b.zoomEnertia),b.renderImageWidth+=Math.round((b.imageWidth-b.renderImageWidth)*b.zoomEnertia),aG(b,{containerTop:b.renderContainerTop,containerLeft:b.renderContainerLeft,imageHeight:b.renderImageHeight,imageWidth:b.renderImageWidth,imageTop:b.renderImageTop,imageLeft:b.renderImageLeft})}}function ah(b,a){b.isAnimating||(aD(b),b.isAnimating=!0,b.isRendering=!1,b.isZooming=!1,aK(b),b.$container.fsTransition({property:"opacity"},function(){b.isAnimating=!1,b.$container.remove(),"function"==typeof a&&a.call(window,b)}),b.$el.addClass(ap.loading))}function aI(d){az.killEvent(d);var c=aA(d.currentTarget),f=d.data,b=f.index+(c.hasClass(ap.control_next)?1:-1);f.isAnimating||(b<0&&(b=0),b>f.total&&(b=f.total),b!==f.index&&(f.index=b,ah(f,function(){ao(f,f.images[f.index])})),K(f))}function K(a){a.$controlItems.removeClass(ap.control_disabled),0===a.index&&a.$controlPrevious.addClass(ap.control_disabled),a.index===a.images.length-1&&a.$controlNext.addClass(ap.control_disabled)}function ai(a){ay(a),ak(a),Q(a),am(a),ak(a),at(a),ac(a)}function aK(a){a.$container&&a.$container.length&&a.$container.fsTouch("destroy").off(au.scaleStart,aB).off(au.scaleEnd,an).off(au.scale,B)}function ab(c){var b=c[0],a=new Image;return void 0!==b.naturalHeight?{naturalHeight:b.naturalHeight,naturalWidth:b.naturalWidth}:"img"===b.tagName.toLowerCase()&&(a.src=b.src,{naturalHeight:a.height,naturalWidth:a.width})}var aj,Y=ag.Plugin("viewer",{widget:!0,defaults:{controls:!0,customClass:"",labels:{count:"of",next:"Next",previous:"Previous",zoom_in:"Zoom In",zoom_out:"Zoom Out"},theme:"fs-light",zoomDelta:100,zoomEnertia:0.2,zoomIncrement:0.01},classes:["source","wrapper","viewport","container","image","gallery","loading_icon","controls","controls_custom","control","control_previous","control_next","control_zoom_in","control_zoom_out","control_disabled","loading"],events:{loaded:"loaded",ready:"ready"},methods:{_setup:function(){aa(),aE.on("scroll",aa),aj=ag.$body},_construct:function(j){var f,b="",m=[ap.control,ap.control_previous].join(" "),h=[ap.control,ap.control_next].join(" "),n=[ap.control,ap.control_zoom_in].join(" "),k=[ap.control,ap.control_zoom_out].join(" ");j.thisClasses=[ap.base,ap.loading,j.customClass,j.theme],j.images=[],j.source=!1,j.gallery=!1,j.tapTimer=null,j.action=!1,j.isRendering=!1,j.isZooming=!1,j.isAnimating=!1,j.keyDownTime=1,j.$images=this.find("img").addClass(ap.source),j.index=0,j.total=j.$images.length-1,j.customControls="object"===aA.type(j.controls)&&j.controls.zoom_in&&j.controls.zoom_out,j.$images.length>1&&(j.gallery=!0,j.thisClasses.push(ap.gallery),!j.customControls||j.controls.previous&&j.controls.next||(j.customControls=!1));for(var d=0;d<j.$images.length;d++){f=j.$images.eq(d),j.images.push(f.attr("src"))}b+='<div class="'+ap.wrapper+'">',b+='<div class="'+ap.loading_icon+'"></div>',b+='<div class="'+ap.viewport+'"></div>',b+="</div>",j.controls&&!j.customControls&&(b+='<div class="'+ap.controls+'">',b+='<button type="button" class="'+m+'">'+j.labels.previous+"</button>",b+='<button type="button" class="'+k+'">'+j.labels.zoom_out+"</button>",b+='<button type="button" class="'+n+'">'+j.labels.zoom_in+"</button>",b+='<button type="button" class="'+h+'">'+j.labels.next+"</button>",b+="</div>"),this.addClass(j.thisClasses.join(" ")).prepend(b),j.$wrapper=this.find(ax.wrapper),j.$viewport=this.find(ax.viewport),j.customControls?(j.$controls=aA(j.controls.container).addClass([ap.controls,ap.controls_custom].join(" ")),j.$controlPrevious=aA(j.controls.previous).addClass(m),j.$controlNext=aA(j.controls.next).addClass(h),j.$controlZoomIn=aA(j.controls.zoom_in).addClass(n),j.$controlZoomOut=aA(j.controls.zoom_out).addClass(k)):(j.$controls=this.find(ax.controls),j.$controlPrevious=this.find(ax.control_previous),j.$controlNext=this.find(ax.control_next),j.$controlZoomIn=this.find(ax.control_zoom_in),j.$controlZoomOut=this.find(ax.control_zoom_out)),j.$controlItems=j.$controlPrevious.add(j.$controlNext),j.$controlZooms=j.$controlZoomIn.add(j.$controlZoomOut),aq(),j.$controlItems.on(au.click,j,aI),j.$controlZooms.on([au.touchStart,au.mouseDown].join(" "),j,F).on([au.touchEnd,au.mouseUp].join(" "),j,al),ao(j,j.images[j.index],!0),K(j)},_destruct:function(a){a.$wrapper.remove(),a.$image.removeClass(ap.source),a.controls&&!a.customControls&&a.$controls.remove(),a.customControls&&(a.$controls.removeClass([ap.controls,ap.controls_custom].join(" ")),a.$controlItems.off(au.click).removeClass([ap.control,ap.control_previous,ap.control_next].join(" ")),a.$controlZooms.off([au.touchStart,au.mouseDown].join(" ")).off([au.touchStart,au.mouseDown].join(" ")).off([au.touchEnd,au.mouseUp].join(" ")).removeClass([ap.control,ap.control_zoom_in,ap.control_zoom_out].join(" "))),this.removeClass(a.thisClasses.join(" ")).off(au.namespace),aq()},_resize:function(){az.iterate.call(av,ai)},_raf:function(){az.iterate.call(av,aJ)},resize:ai,load:function(b,a){console.log(b),b.index=0,"string"==typeof a?(b.total=0,b.images=[a],b.gallery=!1,b.$el.removeClass(ap.gallery)):(b.total=a.length-1,b.images=a,a.length>1&&(b.gallery=!0,b.$el.addClass(ap.gallery)),a=b.images[b.index]),ah(b,function(){ao(b,a)})},unload:function(a){ah(a)},setCurrentIndex:function(c,b){var a=b;(c=c).isAnimating||(a<0&&(a=0),a>c.total&&(a=c.total),a!==c.index&&(c.index=a,ah(c,function(){ao(c,c.images[c.index])})),K(c))}}}),J=Y.namespace,ax=Y.classes,ap=ax.raw,au=Y.events,az=Y.functions,aE=(ag.window,ag.$window),ar=0,av=[]});$(window).trigger("formstone-allPluginsLoaded");